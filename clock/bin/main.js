function ub(t){var w=0;return function(){return w<t.length?{done:!1,value:t[w++]}:{done:!0}}}function rd(t){var w="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return w?w.call(t):{next:ub(t)}}var Vd="function"==typeof Object.create?Object.create:function(t){function w(){}w.prototype=t;return new w},jf="function"==typeof Object.defineProperties?Object.defineProperty:function(t,w,v){if(t==Array.prototype||t==Object.prototype)return t;t[w]=v.value;return t};
function Df(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var w=0;w<t.length;++w){var v=t[w];if(v&&v.Math==Math)return v}throw Error("Cannot find global object");}var wg=Df(this);function xg(t,w){if(w)a:{var v=wg;t=t.split(".");for(var E=0;E<t.length-1;E++){var fa=t[E];if(!(fa in v))break a;v=v[fa]}t=t[t.length-1];E=v[t];w=w(E);w!=E&&null!=w&&jf(v,t,{configurable:!0,writable:!0,value:w})}}var gh;
if("function"==typeof Object.setPrototypeOf)gh=Object.setPrototypeOf;else{var hh;a:{var ih={a:!0},jh={};try{jh.__proto__=ih;hh=jh.a;break a}catch(t){}hh=!1}gh=hh?function(t,w){t.__proto__=w;if(t.__proto__!==w)throw new TypeError(t+" is not extensible");return t}:null}var kh=gh;
function lh(t,w){t.prototype=Vd(w.prototype);t.prototype.constructor=t;if(kh)kh(t,w);else for(var v in w)if("prototype"!=v)if(Object.defineProperties){var E=Object.getOwnPropertyDescriptor(w,v);E&&Object.defineProperty(t,v,E)}else t[v]=w[v];t.tg=w.prototype}
xg("Symbol",function(t){function w(aa){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return new v(E+(aa||"")+"_"+fa++,aa)}function v(aa,vb){this.Ne=aa;jf(this,"description",{configurable:!0,writable:!0,value:vb})}if(t)return t;v.prototype.toString=function(){return this.Ne};var E="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",fa=0;return w});
xg("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var w="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),v=0;v<w.length;v++){var E=wg[w[v]];"function"===typeof E&&"function"!=typeof E.prototype[t]&&jf(E.prototype,t,{configurable:!0,writable:!0,value:function(){return Bh(ub(this))}})}return t});function Bh(t){t={next:t};t[Symbol.iterator]=function(){return this};return t}
function Ch(t,w){t instanceof String&&(t+="");var v=0,E=!1,fa={next:function(){if(!E&&v<t.length){var aa=v++;return{value:w(aa,t[aa]),done:!1}}E=!0;return{done:!0,value:void 0}}};fa[Symbol.iterator]=function(){return fa};return fa}xg("Array.prototype.keys",function(t){return t?t:function(){return Ch(this,function(w){return w})}});xg("Object.is",function(t){return t?t:function(w,v){return w===v?0!==w||1/w===1/v:w!==w&&v!==v}});
xg("Array.prototype.includes",function(t){return t?t:function(w,v){var E=this;E instanceof String&&(E=String(E));var fa=E.length;v=v||0;for(0>v&&(v=Math.max(v+fa,0));v<fa;v++){var aa=E[v];if(aa===w||Object.is(aa,w))return!0}return!1}});
xg("String.prototype.includes",function(t){return t?t:function(w,v){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(w instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(w,v||0)}});xg("Array.prototype.values",function(t){return t?t:function(){return Ch(this,function(w,v){return v})}});
function Dh(t,w){return Object.prototype.hasOwnProperty.call(t,w)}
xg("WeakMap",function(t){function w(A){this.Ub=(C+=Math.random()+1).toString();if(A){A=rd(A);for(var D;!(D=A.next()).done;)D=D.value,this.set(D[0],D[1])}}function v(){}function E(A){var D=typeof A;return"object"===D&&null!==A||"function"===D}function fa(A){if(!Dh(A,vb)){var D=new v;jf(A,vb,{value:D})}}function aa(A){var D=Object[A];D&&(Object[A]=function(ja){if(ja instanceof v)return ja;Object.isExtensible(ja)&&fa(ja);return D(ja)})}if(function(){if(!t||!Object.seal)return!1;try{var A=Object.seal({}),
D=Object.seal({}),ja=new t([[A,2],[D,3]]);if(2!=ja.get(A)||3!=ja.get(D))return!1;ja.delete(A);ja.set(D,4);return!ja.has(A)&&4==ja.get(D)}catch(bc){return!1}}())return t;var vb="$jscomp_hidden_"+Math.random();aa("freeze");aa("preventExtensions");aa("seal");var C=0;w.prototype.set=function(A,D){if(!E(A))throw Error("Invalid WeakMap key");fa(A);if(!Dh(A,vb))throw Error("WeakMap key fail: "+A);A[vb][this.Ub]=D;return this};w.prototype.get=function(A){return E(A)&&Dh(A,vb)?A[vb][this.Ub]:void 0};w.prototype.has=
function(A){return E(A)&&Dh(A,vb)&&Dh(A[vb],this.Ub)};w.prototype.delete=function(A){return E(A)&&Dh(A,vb)&&Dh(A[vb],this.Ub)?delete A[vb][this.Ub]:!1};return w});
xg("Map",function(t){function w(){var C={};return C.bb=C.next=C.head=C}function v(C,A){var D=C.Za;return Bh(function(){if(D){for(;D.head!=C.Za;)D=D.bb;for(;D.next!=D.head;)return D=D.next,{done:!1,value:A(D)};D=null}return{done:!0,value:void 0}})}function E(C,A){var D=A&&typeof A;"object"==D||"function"==D?aa.has(A)?D=aa.get(A):(D=""+ ++vb,aa.set(A,D)):D="p_"+A;var ja=C.Ob[D];if(ja&&Dh(C.Ob,D))for(C=0;C<ja.length;C++){var bc=ja[C];if(A!==A&&bc.key!==bc.key||A===bc.key)return{id:D,list:ja,index:C,
xa:bc}}return{id:D,list:ja,index:-1,xa:void 0}}function fa(C){this.Ob={};this.Za=w();this.size=0;if(C){C=rd(C);for(var A;!(A=C.next()).done;)A=A.value,this.set(A[0],A[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var C=Object.seal({x:4}),A=new t(rd([[C,"s"]]));if("s"!=A.get(C)||1!=A.size||A.get({x:4})||A.set({x:4},"t")!=A||2!=A.size)return!1;var D=A.entries(),ja=D.next();if(ja.done||ja.value[0]!=C||"s"!=ja.value[1])return!1;ja=D.next();
return ja.done||4!=ja.value[0].x||"t"!=ja.value[1]||!D.next().done?!1:!0}catch(bc){return!1}}())return t;var aa=new WeakMap;fa.prototype.set=function(C,A){C=0===C?0:C;var D=E(this,C);D.list||(D.list=this.Ob[D.id]=[]);D.xa?D.xa.value=A:(D.xa={next:this.Za,bb:this.Za.bb,head:this.Za,key:C,value:A},D.list.push(D.xa),this.Za.bb.next=D.xa,this.Za.bb=D.xa,this.size++);return this};fa.prototype.delete=function(C){C=E(this,C);return C.xa&&C.list?(C.list.splice(C.index,1),C.list.length||delete this.Ob[C.id],
C.xa.bb.next=C.xa.next,C.xa.next.bb=C.xa.bb,C.xa.head=null,this.size--,!0):!1};fa.prototype.clear=function(){this.Ob={};this.Za=this.Za.bb=w();this.size=0};fa.prototype.has=function(C){return!!E(this,C).xa};fa.prototype.get=function(C){return(C=E(this,C).xa)&&C.value};fa.prototype.entries=function(){return v(this,function(C){return[C.key,C.value]})};fa.prototype.keys=function(){return v(this,function(C){return C.key})};fa.prototype.values=function(){return v(this,function(C){return C.value})};fa.prototype.forEach=
function(C,A){for(var D=this.entries(),ja;!(ja=D.next()).done;)ja=ja.value,C.call(A,ja[1],ja[0],this)};fa.prototype[Symbol.iterator]=fa.prototype.entries;var vb=0;return fa});
xg("Set",function(t){function w(v){this.Sa=new Map;if(v){v=rd(v);for(var E;!(E=v.next()).done;)this.add(E.value)}this.size=this.Sa.size}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var v=Object.seal({x:4}),E=new t(rd([v]));if(!E.has(v)||1!=E.size||E.add(v)!=E||1!=E.size||E.add({x:4})!=E||2!=E.size)return!1;var fa=E.entries(),aa=fa.next();if(aa.done||aa.value[0]!=v||aa.value[1]!=v)return!1;aa=fa.next();return aa.done||aa.value[0]==v||
4!=aa.value[0].x||aa.value[1]!=aa.value[0]?!1:fa.next().done}catch(vb){return!1}}())return t;w.prototype.add=function(v){v=0===v?0:v;this.Sa.set(v,v);this.size=this.Sa.size;return this};w.prototype.delete=function(v){v=this.Sa.delete(v);this.size=this.Sa.size;return v};w.prototype.clear=function(){this.Sa.clear();this.size=0};w.prototype.has=function(v){return this.Sa.has(v)};w.prototype.entries=function(){return this.Sa.entries()};w.prototype.values=function(){return this.Sa.values()};w.prototype.keys=
w.prototype.values;w.prototype[Symbol.iterator]=w.prototype.values;w.prototype.forEach=function(v,E){var fa=this;this.Sa.forEach(function(aa){return v.call(E,aa,aa,fa)})};return w});
(function(t){function w(){this.touches=[]}function v(a,b){this.Wb=this.xc=!1;this.jb=this.kb=this.u=this.v=0;this.Pd=this.De=!1;this.x=this.y=0;this.id=a;this.gg=b}function E(){this.Ed=this.Dd=this.v=this.u=this.y=this.x=this.kb=this.jb=0;this.Hb=this.Tb=this.Cd=this.ye=this.Ad=this.Bd=this.xe=this.zd=this.right=this.left=!1}function fa(){this.ze=new Set;this.wd=new Set;this.Sd=new Set;this.he=new Set;this.keys=new ze}function aa(){}function vb(a,b,c,e,f){this.td=new E;this.touches=new w;this.keyboard=
e?new fa:null;this.Ja=0;this.Sc(a,c,b,f)}function C(){}function A(){return me.apply(this,arguments)||this}function D(){return me.apply(this,arguments)||this}function ja(){return me.apply(this,arguments)||this}function bc(){return lc.apply(this,arguments)||this}function Ef(){return yg.apply(this,arguments)||this}function kf(a,b,c){I.ga=!0;var e=I.call(this)||this;I.ga=!1;e.Z(a,b,c);return e}function ne(a){I.ga=!0;var b=I.call(this)||this;I.ga=!1;b.Z(a);return b}function oe(a){I.ga=!0;var b=I.call(this)||
this;I.ga=!1;b.Z(a);return b}function Wd(a,b){I.ga=!0;var c=I.call(this)||this;I.ga=!1;c.Z(a,b);return c}function zg(a){var b=I.call(this,a)||this;b.buffer=new Wd(a,34963);return b}function gd(a,b){I.ga=!0;var c=I.call(this)||this;I.ga=!1;c.Z(a,b);return c}function Ae(a,b,c){null==c&&(c=0);this.buffer=a;a=a.buffer;switch(a.l){case 0:var e=a.buffer.h;break;case 1:e=a.buffer.h}this.h=e;this.location=b;this.bd=c}function sd(a){var b=I.call(this,a)||this;b.Dc=33071;b.Ec=33071;b.vb=9729;b.Aa=a.createTexture();
b.je=new Ff(a,[b],!1);return b}function Jc(a){I.ga=!0;var b=I.call(this)||this;I.ga=!1;b.Z(a);return b}function Gf(a,b,c,e,f){this.u=this.v=this.C=this.F=this.j=this.m=0;this.J=this.I=this.H=this.G=1;this.U=new Be(a,35048);this.S=new Be(b,35048);this.T=new Be(c,35048);this.V=new Be(e,35048);this.L=new Ag(f,35048)}function lf(a,b){I.ga=!0;var c=I.call(this)||this;I.ga=!1;c.Z(a,b);return c}function mh(a){this.qg=new ze;this.Jb=a}function Ag(a,b){this.g=!1;this.length=0;this.data=new Int32Array(512);
this.buffer=a;this.usage=b;this.maxLength=this.data.length}function nh(){this.Mb=new Ia(0,0,0);this.Vb=new Ia(0,0,0);this.Yb=new oh(0,0,0,0)}function ba(a){this.bc=[];this.Hc=[];this.Ba=Array(Ef.sc.ef);this.Td=!1;new Ce(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);new Ce(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.tb=new Ce(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.mb=new Ce(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.rd=new Ce(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.Yc=new Ia(0,0,0);this.Vc=new Ia(0,0,0);this.Xc=new Ia(0,0,0);
this.$c=new Ia(0,0,0);this.pc=!1;this.ad=new ze;this.canvas=a;this.h=a.getContext("webgl2",{premultipliedAlpha:!1,preserveDrawingBuffer:!0});this.Wf();this.Xf();this.lg();this.fb=this.Kf();this.i=this.fb.sg;this.Ge=new ne(this.h);this.oc=Math.PI/3;this.Wc=1;this.Ab=.1;this.zb=1E4;var b=this.tb,c=this.Ab,e=this.zb,f=1/Math.tan(.5*this.Nb());b.N=f/(this.Ib/this.ub);b.O=0;b.na=0;b.qa=0;b.P=0;b.R=f;b.oa=0;b.ra=0;b.ja=0;b.ka=0;b.la=-(e+c)/(e-c);b.sa=-2*c*e/(e-c);b.ta=0;b.ua=0;b.va=-1;b.wa=0;this.pc=!1;
b=this.Xc;b.x=0;b.y=0;b.z=1;b=this.Vc;b.x=0;b.y=0;b.z=0;b=this.Yc;b.x=0;b.y=1;b.z=0;this.screen(a.width,a.height);this.Db=this.cb=null;this.M=this.ma=!1;a=0;for(b=this.Ba.length;a<b;)this.Ba[a++]=new nh;this.ya=0}function Ff(a,b,c){var e=I.call(this,a)||this;e.wb=b.slice();e.depth=a.createRenderbuffer();e.ke=a.createFramebuffer();c&&e.ne();return e}function I(a){I.ga||this.Z(a)}function Be(a,b){this.g=!1;this.length=0;this.data=new Float32Array(512);this.buffer=a;this.usage=b;this.maxLength=this.data.length}
function Md(a,b){this.ob=a;this.canvas=b;this.resize();this.Eb=new hd(mf(this,this.update),mf(this,this.La));this.frameRate(nf.Kc(60))}function hd(a,b){this.cd=!1;this.Sf=!0;this.count=0;this.lb=16.666666666666668;this.update=a;this.La=b}function Nd(){this.tc=Array(4096);this.frames=[];this.eb=0;this.Id=!1;this.qe=20;this.D=new F(0,-.015);this.Ra=[];this.ha=[];for(var a=0,b=this.tc.length;a<b;)this.tc[a++]=new Xd}function of(){this.n=new F(0,0);this.ea=new F(0,0);this.da=new F(0,0)}function pf(){this.Ia=
[new of,new of];this.Ca=0}function Xd(){this.ud=this.vd=this.Kd=this.Ld=this.pb=this.qb=this.rb=this.sb=this.Ga=this.Ma=this.ed=0;this.Od=new F(0,0);this.Nd=new F(0,0);this.yd=new F(0,0);this.xd=new F(0,0);this.pd=this.qd=0;this.pa=new Hf(1,0,0,1);this.depth=this.Ya=this.target=0;this.t=new F(0,0);this.n=new F(0,0);this.aa=this.ba=null;this.Gd=new F(0,0);this.Fd=new F(0,0);this.ea=new F(0,0);this.da=new F(0,0);this.od=new F(0,0);this.nd=new F(0,0)}function Bg(){}function If(){}function qf(a){mc.ga=
!0;var b=mc.call(this)||this;mc.ga=!1;b.Z(a);return b}function N(){}function nc(a,b){mc.ga=!0;var c=mc.call(this)||this;mc.ga=!1;c.Z(a,b);return c}function mc(a){mc.ga||this.Z(a)}function Hc(a){this.Ya=.1;this.zc=.9;this.shape=null;this.Y=new Hf(1,0,0,1);this.X=this.pa=this.kd=this.Ea=0;this.j=new F(0,0);var b=this.p=new F(0,0);b.x=a.x;b.y=a.y}function Jf(){this.max=new F(0,0);this.min=new F(0,0)}function oh(a,b,c,e){this.x=a;this.y=b;this.z=c;this.w=e}function Ia(a,b,c){this.x=a;this.y=b;this.z=
c}function F(a,b){this.x=a;this.y=b}function Ce(a,b,c,e,f,d,g,h,k,n,m,r,u,q,p,z){this.N=a;this.O=b;this.na=c;this.qa=e;this.P=f;this.R=d;this.oa=g;this.ra=h;this.ja=k;this.ka=n;this.la=m;this.sa=r;this.ta=u;this.ua=q;this.va=p;this.wa=z}function Hf(a,b,c,e){this.N=a;this.O=b;this.P=c;this.R=e}function pe(){}function De(){}function me(){}function yg(){}function Cg(a){this.current=0;this.Bf=a}function ze(){this.B=Object.create(null)}function Kf(a,b,c){b=gb.call(this,String(a),b,c)||this;b.value=a;return b}
function gb(a,b,c){b=Error.call(this,a);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.message=a;this.Af=null!=c?c:this}function Tc(){}function oc(a,b,c,e){Kc.ga=!0;var f=Kc.call(this)||this;Kc.ga=!1;f.Z(a,b,c,e);return f}function Kc(a,b,c,e){Kc.ga||this.Z(a,b,c,e)}function id(a){this.ab=this.currentFrame=0;this.w=new Nd;this.Gf=[31599,4681,29671,29647,23497,31183,31215,29257,31727,31695,1040];this.Hf="0123456789:";this.time=a;a=new Date(a);var b=a.getHours();this.me=10>b?"0"+b:Tc.Va(b);
b=a.getMinutes();this.we=10>b?"0"+b:Tc.Va(b);a=a.getSeconds();this.$b=10>a?"0"+a:Tc.Va(a);this.Yf()}function Ee(){}function jd(){return lc.apply(this,arguments)||this}function lc(){return Dg.apply(this,arguments)||this}function Lf(a,b,c){this.data=a;this.name=b;this.type=c}function Dg(){}function y(){return pe.Lb(this,"")}function mf(a,b){if(null==b)return null;null==b.Nc&&(b.Nc=t.Ud++);var c;null==a.gd?a.gd={}:c=a.gd[b.Nc];null==c&&(c=b.bind(a),a.gd[b.Nc]=c);return c}var Uc=Uc||{},l;Dg.A=!0;var Jb=
Uc["hgsl.AttributeType"]={Qa:!0,ia:null,ca:{s:"Float",l:0,o:"hgsl.AttributeType",toString:y},Ka:{s:"Int",l:1,o:"hgsl.AttributeType",toString:y},Kb:{s:"UInt",l:2,o:"hgsl.AttributeType",toString:y},fa:(l=function(a){return{l:3,Fa:a,o:"hgsl.AttributeType",toString:y}},l.s="Vec",l.K=["dim"],l),Lc:(l=function(a){return{l:4,Fa:a,o:"hgsl.AttributeType",toString:y}},l.s="IVec",l.K=["dim"],l),Mc:(l=function(a){return{l:5,Fa:a,o:"hgsl.AttributeType",toString:y}},l.s="UVec",l.K=["dim"],l),W:(l=function(a,b){return{l:6,
cols:a,rows:b,o:"hgsl.AttributeType",toString:y}},l.s="Mat",l.K=["cols","rows"],l)};Jb.ia=[Jb.ca,Jb.Ka,Jb.Kb,Jb.fa,Jb.Lc,Jb.Mc,Jb.W];var B=Uc["hgsl.UniformType"]={Qa:!0,ia:null,ca:{s:"Float",l:0,o:"hgsl.UniformType",toString:y},Ka:{s:"Int",l:1,o:"hgsl.UniformType",toString:y},Kb:{s:"UInt",l:2,o:"hgsl.UniformType",toString:y},Jc:{s:"Bool",l:3,o:"hgsl.UniformType",toString:y},fa:(l=function(a){return{l:4,Fa:a,o:"hgsl.UniformType",toString:y}},l.s="Vec",l.K=["dim"],l),Lc:(l=function(a){return{l:5,Fa:a,
o:"hgsl.UniformType",toString:y}},l.s="IVec",l.K=["dim"],l),Mc:(l=function(a){return{l:6,Fa:a,o:"hgsl.UniformType",toString:y}},l.s="UVec",l.K=["dim"],l),Qe:(l=function(a){return{l:7,Fa:a,o:"hgsl.UniformType",toString:y}},l.s="BVec",l.K=["dim"],l),W:(l=function(a,b){return{l:8,cols:a,rows:b,o:"hgsl.UniformType",toString:y}},l.s="Mat",l.K=["cols","rows"],l),nb:(l=function(a){return{l:9,type:a,o:"hgsl.UniformType",toString:y}},l.s="Sampler",l.K=["type"],l),Array:(l=function(a,b){return{l:10,type:a,
size:b,o:"hgsl.UniformType",toString:y}},l.s="Array",l.K=["type","size"],l),ic:{s:"Struct",l:11,o:"hgsl.UniformType",toString:y}};B.ia=[B.ca,B.Ka,B.Kb,B.Jc,B.fa,B.Lc,B.Mc,B.Qe,B.W,B.nb,B.Array,B.ic];var Rb=Uc["hgsl.SamplerType"]={Qa:!0,ia:null,hc:{s:"Sampler2D",l:0,o:"hgsl.SamplerType",toString:y},lf:{s:"Sampler3D",l:1,o:"hgsl.SamplerType",toString:y},mf:{s:"SamplerCube",l:2,o:"hgsl.SamplerType",toString:y},nf:{s:"SamplerCubeShadow",l:3,o:"hgsl.SamplerType",toString:y},kf:{s:"Sampler2DShadow",l:4,
o:"hgsl.SamplerType",toString:y},hf:{s:"Sampler2DArray",l:5,o:"hgsl.SamplerType",toString:y},jf:{s:"Sampler2DArrayShadow",l:6,o:"hgsl.SamplerType",toString:y},Xe:{s:"ISampler2D",l:7,o:"hgsl.SamplerType",toString:y},Ze:{s:"ISampler3D",l:8,o:"hgsl.SamplerType",toString:y},$e:{s:"ISamplerCube",l:9,o:"hgsl.SamplerType",toString:y},Ye:{s:"ISampler2DArray",l:10,o:"hgsl.SamplerType",toString:y},qf:{s:"USampler2D",l:11,o:"hgsl.SamplerType",toString:y},sf:{s:"USampler3D",l:12,o:"hgsl.SamplerType",toString:y},
tf:{s:"USamplerCube",l:13,o:"hgsl.SamplerType",toString:y},rf:{s:"USampler2DArray",l:14,o:"hgsl.SamplerType",toString:y}};Rb.ia=[Rb.hc,Rb.lf,Rb.mf,Rb.nf,Rb.kf,Rb.hf,Rb.jf,Rb.Xe,Rb.Ze,Rb.$e,Rb.Ye,Rb.qf,Rb.sf,Rb.tf,Rb.rf];Lf.A=!0;lh(lc,Dg);lc.A=!0;lh(jd,lc);jd.A=!0;Ee.remove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};Ee.now=function(){return Date.now()};Ee.A=!0;id.prototype.Yf=function(){this.w.ha.push((new Hc(new F(123,-200))).Oa(new nc(200,200),0));this.w.ha.push((new Hc(new F(-200,
25))).Oa(new nc(200,200),0));this.w.ha.push((new Hc(new F(446,25))).Oa(new nc(200,200),0));var a="00"==this.$b?40:"0"==this.$b.charAt(1)?20:0;this.ib(this.me.charAt(0),30,a,8);this.ib(this.me.charAt(1),62,a,8);this.ib(":",86,a,8);this.ib(this.we.charAt(0),110,a,8);this.ib(this.we.charAt(1),142,a,8);this.ib(":",166,a,5);this.ib(this.$b.charAt(0),181,a,5);this.ib(this.$b.charAt(1),201,a,5);this.w.mg()};id.prototype.Ce=function(){300<=this.ab||(this.ab++,this.w.step(!0),this.ab++,this.w.step(!0),this.ab++,
this.w.step(!0),this.ab++,this.w.step(!0),this.ab++,this.w.step(!0),this.ab++,this.w.step(!0),300<=this.ab&&this.w.pg())};id.prototype.ready=function(){return 300<=this.ab};id.prototype.cg=function(){300<=this.currentFrame?(this.w.step(),this.w.step()):(this.w.Be(),this.w.Be());this.currentFrame+=2};id.prototype.position=function(){return this.currentFrame/300};id.prototype.ib=function(a,b,c,e){a=this.Gf[this.Hf.indexOf(a)];for(var f=0;5>f;){var d=f++;switch(a>>3*d&7){case 1:var g=.5*e,h=.5*e;d=(new Hc(new F(b+
2*e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;case 2:g=.5*e;h=.5*e;d=(new Hc(new F(b+e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;case 3:g=1*e;h=.5*e;d=(new Hc(new F(b+e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;case 4:g=.5*e;h=.5*e;d=(new Hc(new F(b+0*e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-
.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;case 5:g=.5*e;h=.5*e;g=(new Hc(new F(b+0*e+g,c+d*e+h))).Oa(new nc(g,h));g.j.x=.01*Math.random()-.005;g.j.y=.01*Math.random()-.005;this.w.ha.push(g);g=.5*e;h=.5*e;d=(new Hc(new F(b+2*e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;case 6:g=1*e;h=.5*e;d=(new Hc(new F(b+0*e+g,c+d*e+h))).Oa(new nc(g,h));d.j.x=.01*Math.random()-.005;d.j.y=.01*Math.random()-.005;this.w.ha.push(d);break;
case 7:g=1.5*e,h=.5*e,d=(new Hc(new F(b+0*e+g,c+d*e+h))).Oa(new nc(g,h)),d.j.x=.01*Math.random()-.005,d.j.y=.01*Math.random()-.005,this.w.ha.push(d)}}};id.A=!0;Kc.prototype.Z=function(a,b,c,e){null==e&&(e=!0);null==c&&(c=!1);null==b&&(b=rf.Wd);this.canvas=a;this.Ua=new Md(this,a);switch(b.l){case 0:this.input=new vb(a,this.Ua,a,c,e);break;case 1:this.input=new vb(a,this.Ua,window.document.documentElement,c,e);break;case 2:this.input=null}this.eb=-1;this.Fe();this.Ua.Cf()};Kc.prototype.Jd=function(){};
Kc.prototype.Fe=function(){};Kc.prototype.update=function(){};Kc.prototype.La=function(){};Kc.A=!0;lh(oc,Kc);oc.prototype.Z=function(a,b,c,e){this.bgColor=new Ia(.1,.05,.2);this.He=new Ia(0,0,0);this.alpha=1;this.color=new Ia(0,0,0);this.yc=[];this.Fb=[];Kc.prototype.Z.call(this,a,b,c,e)};oc.prototype.Fe=function(){var a=this.D=new ba(this.canvas);a.oc=Math.PI/3;a.Wc=2;a.Ab=.1;a.zb=1E4;var b=a.tb,c=a.Ab,e=a.zb,f=1/Math.tan(.5*a.Nb());b.N=f/(a.Ib/a.ub);b.O=0;b.na=0;b.qa=0;b.P=0;b.R=f;b.oa=0;b.ra=0;
b.ja=0;b.ka=0;b.la=-(e+c)/(e-c);b.sa=-2*c*e/(e-c);b.ta=0;b.ua=0;b.va=-1;b.wa=0;this.D.Vf();this.Jb=this.D.createShader(jd.dc,jd.Sb);this.D.Jb(this.Jb);this.jd();this.Ua.frameRate(nf.Kc(60));a=(new Date).getTime()%1E3;100>a||900<a?window.setTimeout((l=this.Ua,mf(l,l.start)),500):this.Ua.start()};oc.prototype.Jd=function(){this.D.screen(this.Ua.width,this.Ua.height)};oc.prototype.jd=function(){for(var a=(new Date).getTime()+2500,b=new id(a);!b.ready();)b.Ce();this.Fb.push(b);this.yc.push(new id(a+1E3))};
oc.prototype.update=function(){for(var a=0,b=this.yc;a<b.length;){var c=b[a];++a;c.ready()||c.Ce()}2<=this.Fb[0].position()&&this.Fb.shift();59==this.eb%60&&(this.Fb.push(this.yc.shift()),this.yc.push(new id((new Date).getTime()+1E3+2500)));a=2*Math.PI*(new Date).getTime()/1E3/60;b=this.bgColor;c=.1*(.5*Math.cos(a+2*Math.PI/3)+.5);var e=.2*(.5*Math.cos(a)+.5);b.x=.15*(.5*Math.cos(a-2*Math.PI/3)+.5);b.y=c;b.z=e;a=0;for(b=this.Fb;a<b.length;)b[a++].cg()};oc.prototype.abs=function(a){return 0>a?-a:a};
oc.prototype.La=function(){this.D.ad.B[jd.Gc.bgColor.name]=G.kc(this.bgColor.x,this.bgColor.y,this.bgColor.z);this.D.screen(this.Ua.width,this.Ua.height);var a=this.D;a.Df();this.D.Jf(this.bgColor.x,this.bgColor.y,this.bgColor.z);var b=this.D;if(1!=b.ma)throw Error("begin scene before setting lights");if(b.ya==b.Ba.length)throw Error("too many lights");var c=b.Ba[b.ya++],e=c.Mb;e.x=.2;e.y=.2;e.z=.2;e=c.Yb;e.x=0;e.y=0;e.z=0;e.w=0;c=c.Vb;c.x=0;c.y=0;c.z=0;var f=b.mb;c=-f.ja;e=-f.ka;f=-f.la;if(1!=b.ma)throw Error("begin scene before setting lights");
if(b.ya==b.Ba.length)throw Error("too many lights");b=b.Ba[b.ya++];var d=b.Mb;d.x=.8;d.y=.8;d.z=.8;d=b.Yb;d.x=0;d.y=0;d.z=0;d.w=0;b=b.Vb;d=Math.sqrt(c*c+e*e+f*f);0<d&&(d=1/d);b.x=c*d;b.y=e*d;b.z=f*d;var g=this.D;g.pc=!0;c=g.Xc;c.x=184.5;c.y=80;c.z=150;c=g.Vc;c.x=110.7;c.y=0;c.z=-75;c=g.Yc;c.x=0;c.y=1;c.z=0;c=g.mb;e=g.Xc;d=g.Vc;f=e.x-d.x;b=e.y-d.y;d=e.z-d.z;var h=Math.sqrt(f*f+b*b+d*d);0<h&&(h=1/h);f*=h;b*=h;d*=h;var k=g.Yc;g=k.y*d-k.z*b;h=k.z*f-k.x*d;k=k.x*b-k.y*f;var n=Math.sqrt(g*g+h*h+k*k);0<n&&
(n=1/n);g*=n;h*=n;k*=n;n=b*k-d*h;var m=d*g-f*k,r=f*h-b*g;c.N=g;c.O=h;c.na=k;c.qa=-(g*e.x+h*e.y+k*e.z);c.P=n;c.R=m;c.oa=r;c.ra=-(n*e.x+m*e.y+r*e.z);c.ja=f;c.ka=b;c.la=d;c.sa=-(f*e.x+b*e.y+d*e.z);c.ta=0;c.ua=0;c.va=0;c.wa=1;this.D.nc(4);c=0;for(e=this.Fb;c<e.length;)for(f=e[c],++c,b=f.position()-1,this.He.z=250*b,b=f.position()-1,d=1-(0>b?-b:b),b=Math.pow(d,.75),d=Math.pow(d,10),"0"==f.$b.charAt(1)?(g=this.bgColor,h=.7*b,d=new Ia(g.x+h+d,g.y+h+d,g.z+h+d)):(g=this.bgColor,h=.7*b,d*=.4,d=new Ia(g.x+h+
d,g.y+h+d,g.z+h+d)),g=this.color,g.x=d.x,g.y=d.y,g.z=d.z,this.alpha=b,b=0,f=f.w.ha;b<f.length;)d=f[b],++b,0<d.pa&&this.Mf(d);this.D.wc();a.Qf()};oc.prototype.Mf=function(a){a=a.shape.type;switch(a.l){case 0:this.Of(a.c);break;case 1:this.Nf(a.b)}};oc.prototype.Of=function(a){for(var b=0;16>b;){var c=b++,e=a.Ea+(c-.5)/16*2*Math.PI;c=a.Ea+(c+.5)/16*2*Math.PI;var f=a.p,d=a.r,g=Math.sin(e),h=Math.cos(e);e=f.x+(1*h+0*-g)*d;g=f.y+(1*g+0*h)*d;f=a.p;d=a.r;h=Math.sin(c);var k=Math.cos(c);c=f.x+(1*k+0*-h)*
d;f=f.y+(1*h+0*k)*d;d=this.D;if(1!=d.M)throw Error("begin shape before vertex");d=d.i;h=d.U;h.length+3>h.maxLength&&h.expand();h.data[h.length++]=e;h.data[h.length++]=g;h.data[h.length++]=0;h.g=!0;e=d.S;g=d.J;h=d.I;k=d.H;var n=d.G;e.length+4>e.maxLength&&e.expand();e.data[e.length++]=g;e.data[e.length++]=h;e.data[e.length++]=k;e.data[e.length++]=n;e.g=!0;e=d.T;g=d.u;h=d.v;k=d.C;e.length+3>e.maxLength&&e.expand();e.data[e.length++]=g;e.data[e.length++]=h;e.data[e.length++]=k;e.g=!0;e=d.V;g=d.F;h=d.j;
e.length+2>e.maxLength&&e.expand();e.data[e.length++]=g;e.data[e.length++]=h;e.g=!0;e=d.L;g=d.m;e.length+1>e.maxLength&&e.expand();e.data[e.length++]=g;e.g=!0;d.m++;d=this.D;if(1!=d.M)throw Error("begin shape before vertex");d=d.i;e=d.U;e.length+3>e.maxLength&&e.expand();e.data[e.length++]=c;e.data[e.length++]=f;e.data[e.length++]=0;e.g=!0;c=d.S;f=d.J;e=d.I;g=d.H;h=d.G;c.length+4>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=e;c.data[c.length++]=g;c.data[c.length++]=h;c.g=!0;c=d.T;
f=d.u;e=d.v;g=d.C;c.length+3>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=e;c.data[c.length++]=g;c.g=!0;c=d.V;f=d.F;e=d.j;c.length+2>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=e;c.g=!0;c=d.L;f=d.m;c.length+1>c.maxLength&&c.expand();c.data[c.length++]=f;c.g=!0;d.m++}b=this.D;c=a.p.x;f=a.p.y;if(1!=b.M)throw Error("begin shape before vertex");b=b.i;d=b.U;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=c;d.data[d.length++]=f;d.data[d.length++]=0;d.g=!0;c=
b.S;f=b.J;d=b.I;e=b.H;g=b.G;c.length+4>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=d;c.data[c.length++]=e;c.data[c.length++]=g;c.g=!0;c=b.T;f=b.u;d=b.v;e=b.C;c.length+3>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=d;c.data[c.length++]=e;c.g=!0;c=b.V;f=b.F;d=b.j;c.length+2>c.maxLength&&c.expand();c.data[c.length++]=f;c.data[c.length++]=d;c.g=!0;c=b.L;f=b.m;c.length+1>c.maxLength&&c.expand();c.data[c.length++]=f;c.g=!0;b.m++;f=this.D;b=a.p.x+a.Y.N*a.r;c=a.p.y+
a.Y.P*a.r;if(1!=f.M)throw Error("begin shape before vertex");a=f.i;f=a.U;f.length+3>f.maxLength&&f.expand();f.data[f.length++]=b;f.data[f.length++]=c;f.data[f.length++]=0;f.g=!0;b=a.S;c=a.J;f=a.I;d=a.H;e=a.G;b.length+4>b.maxLength&&b.expand();b.data[b.length++]=c;b.data[b.length++]=f;b.data[b.length++]=d;b.data[b.length++]=e;b.g=!0;b=a.T;c=a.u;f=a.v;d=a.C;b.length+3>b.maxLength&&b.expand();b.data[b.length++]=c;b.data[b.length++]=f;b.data[b.length++]=d;b.g=!0;b=a.V;c=a.F;f=a.j;b.length+2>b.maxLength&&
b.expand();b.data[b.length++]=c;b.data[b.length++]=f;b.g=!0;b=a.L;c=a.m;b.length+1>b.maxLength&&b.expand();b.data[b.length++]=c;b.g=!0;a.m++};oc.prototype.min=function(a,b){return a<b?a:b};oc.prototype.Nf=function(a){function b(Qa,va,ca,da,Fa){var jb=d;null==jb&&(jb=1);var hb=g.D.i,Ab=jb;null==Ab&&(Ab=1);hb.J=c;hb.I=e;hb.H=f;hb.G=Ab;var la=g.D.i;la.u=Qa.x;la.v=Qa.y;la.C=Qa.z;var Ra=g.D,Q=va.x,cb=va.y,Ja=va.z;null==Ja&&(Ja=0);if(1!=Ra.M)throw Error("begin shape before vertex");var T=Ra.i,qa=T.U;qa.length+
3>qa.maxLength&&qa.expand();qa.data[qa.length++]=Q;qa.data[qa.length++]=cb;qa.data[qa.length++]=Ja;qa.g=!0;var K=T.S,ib=T.J,wa=T.I,kb=T.H,xa=T.G;K.length+4>K.maxLength&&K.expand();K.data[K.length++]=ib;K.data[K.length++]=wa;K.data[K.length++]=kb;K.data[K.length++]=xa;K.g=!0;var ya=T.T,Ga=T.u,La=T.v,lb=T.C;ya.length+3>ya.maxLength&&ya.expand();ya.data[ya.length++]=Ga;ya.data[ya.length++]=La;ya.data[ya.length++]=lb;ya.g=!0;var ha=T.V,U=T.F,ra=T.j;ha.length+2>ha.maxLength&&ha.expand();ha.data[ha.length++]=
U;ha.data[ha.length++]=ra;ha.g=!0;var V=T.L,W=T.m;V.length+1>V.maxLength&&V.expand();V.data[V.length++]=W;V.g=!0;T.m++;var Za=g.D,Sa=ca.x,pc=ca.y,Ta=ca.z;null==Ta&&(Ta=0);if(1!=Za.M)throw Error("begin shape before vertex");var Ca=Za.i,db=Ca.U;db.length+3>db.maxLength&&db.expand();db.data[db.length++]=Sa;db.data[db.length++]=pc;db.data[db.length++]=Ta;db.g=!0;var ia=Ca.S,mb=Ca.J,qc=Ca.I,rc=Ca.H,Ma=Ca.G;ia.length+4>ia.maxLength&&ia.expand();ia.data[ia.length++]=mb;ia.data[ia.length++]=qc;ia.data[ia.length++]=
rc;ia.data[ia.length++]=Ma;ia.g=!0;var $a=Ca.T,Bc=Ca.u,ma=Ca.v,nb=Ca.C;$a.length+3>$a.maxLength&&$a.expand();$a.data[$a.length++]=Bc;$a.data[$a.length++]=ma;$a.data[$a.length++]=nb;$a.g=!0;var sa=Ca.V,O=Ca.F,Da=Ca.j;sa.length+2>sa.maxLength&&sa.expand();sa.data[sa.length++]=O;sa.data[sa.length++]=Da;sa.g=!0;var R=Ca.L,Ua=Ca.m;R.length+1>R.maxLength&&R.expand();R.data[R.length++]=Ua;R.g=!0;Ca.m++;var Ea=g.D,Bb=da.x,Kb=da.y,ob=da.z;null==ob&&(ob=0);if(1!=Ea.M)throw Error("begin shape before vertex");
var J=Ea.i,pb=J.U;pb.length+3>pb.maxLength&&pb.expand();pb.data[pb.length++]=Bb;pb.data[pb.length++]=Kb;pb.data[pb.length++]=ob;pb.g=!0;var S=J.S,ta=J.J,ka=J.I,Ka=J.H,L=J.G;S.length+4>S.maxLength&&S.expand();S.data[S.length++]=ta;S.data[S.length++]=ka;S.data[S.length++]=Ka;S.data[S.length++]=L;S.g=!0;var P=J.T,Ha=J.u,Va=J.v,ab=J.C;P.length+3>P.maxLength&&P.expand();P.data[P.length++]=Ha;P.data[P.length++]=Va;P.data[P.length++]=ab;P.g=!0;var H=J.V,Na=J.F,X=J.j;H.length+2>H.maxLength&&H.expand();H.data[H.length++]=
Na;H.data[H.length++]=X;H.g=!0;var qb=J.L,Wb=J.m;qb.length+1>qb.maxLength&&qb.expand();qb.data[qb.length++]=Wb;qb.g=!0;J.m++;var Lb=g.D,bb=Fa.x,Wa=Fa.y,Cb=Fa.z;null==Cb&&(Cb=0);if(1!=Lb.M)throw Error("begin shape before vertex");var Y=Lb.i,ua=Y.U;ua.length+3>ua.maxLength&&ua.expand();ua.data[ua.length++]=bb;ua.data[ua.length++]=Wa;ua.data[ua.length++]=Cb;ua.g=!0;var M=Y.S,ea=Y.J,eb=Y.I,za=Y.H,cc=Y.G;M.length+4>M.maxLength&&M.expand();M.data[M.length++]=ea;M.data[M.length++]=eb;M.data[M.length++]=
za;M.data[M.length++]=cc;M.g=!0;var Xa=Y.T,dc=Y.u,Aa=Y.v,na=Y.C;Xa.length+3>Xa.maxLength&&Xa.expand();Xa.data[Xa.length++]=dc;Xa.data[Xa.length++]=Aa;Xa.data[Xa.length++]=na;Xa.g=!0;var oa=Y.V,ec=Y.F,rb=Y.j;oa.length+2>oa.maxLength&&oa.expand();oa.data[oa.length++]=ec;oa.data[oa.length++]=rb;oa.g=!0;var pa=Y.L,Db=Y.m;pa.length+1>pa.maxLength&&pa.expand();pa.data[pa.length++]=Db;pa.g=!0;Y.m++;var Oa=g.D;if(1!=Oa.M)throw Error("begin shape before makeQuad");if(4!=Oa.fb.mode)throw Error("shape mode must be Triangles");
var Sb=Oa.i.m-4,Mb=Oa.i.L;Mb.length+1>Mb.maxLength&&Mb.expand();Mb.data[Mb.length++]=Sb;Mb.g=!0;var Pa=Oa.i.m-2,Z=Oa.i.L;Z.length+1>Z.maxLength&&Z.expand();Z.data[Z.length++]=Pa;Z.g=!0;var fc=1-va.y/30,gc=.6*d*(0>fc?0:1<fc?1:fc),Xb=1-ca.y/30,Lc=.6*d*(0>Xb?0:1<Xb?1:Xb),kd=1-da.y/30,Mc=.6*d*(0>kd?0:1<kd?1:kd),Nc=1-Fa.y/30,fb=.6*d*(0>Nc?0:1<Nc?1:Nc);if(0<gc||0<Lc||0<Mc||0<fb){var Oc=g.D.i;Oc.u=Qa.x;Oc.v=-Qa.y;Oc.C=Qa.z;var sc=fb;null==fb&&(sc=1);var Yb=g.D.i,hc=sc;null==hc&&(hc=1);Yb.J=c;Yb.I=e;Yb.H=
f;Yb.G=hc;var tc=g.D,Od=Fa.x,Pd=-Fa.y,ld=Fa.z;null==ld&&(ld=0);if(1!=tc.M)throw Error("begin shape before vertex");var wb=tc.i,Cc=wb.U;Cc.length+3>Cc.maxLength&&Cc.expand();Cc.data[Cc.length++]=Od;Cc.data[Cc.length++]=Pd;Cc.data[Cc.length++]=ld;Cc.g=!0;var xb=wb.S,Eb=wb.J,Fb=wb.I,Ic=wb.H,Nb=wb.G;xb.length+4>xb.maxLength&&xb.expand();xb.data[xb.length++]=Eb;xb.data[xb.length++]=Fb;xb.data[xb.length++]=Ic;xb.data[xb.length++]=Nb;xb.g=!0;var sb=wb.T,td=wb.u,Mf=wb.v,Nf=wb.C;sb.length+3>sb.maxLength&&
sb.expand();sb.data[sb.length++]=td;sb.data[sb.length++]=Mf;sb.data[sb.length++]=Nf;sb.g=!0;var md=wb.V,Of=wb.F,Pf=wb.j;md.length+2>md.maxLength&&md.expand();md.data[md.length++]=Of;md.data[md.length++]=Pf;md.g=!0;var Qd=wb.L,Qf=wb.m;Qd.length+1>Qd.maxLength&&Qd.expand();Qd.data[Qd.length++]=Qf;Qd.g=!0;wb.m++;var sf=Mc;null==Mc&&(sf=1);var qe=g.D.i,Vc=sf;null==Vc&&(Vc=1);qe.J=c;qe.I=e;qe.H=f;qe.G=Vc;var nd=g.D,ud=da.x,Rf=-da.y,Fe=da.z;null==Fe&&(Fe=0);if(1!=nd.M)throw Error("begin shape before vertex");
var Tb=nd.i,Pc=Tb.U;Pc.length+3>Pc.maxLength&&Pc.expand();Pc.data[Pc.length++]=ud;Pc.data[Pc.length++]=Rf;Pc.data[Pc.length++]=Fe;Pc.g=!0;var Dc=Tb.S,Sf=Tb.J,Tf=Tb.I,Uf=Tb.H,Vf=Tb.G;Dc.length+4>Dc.maxLength&&Dc.expand();Dc.data[Dc.length++]=Sf;Dc.data[Dc.length++]=Tf;Dc.data[Dc.length++]=Uf;Dc.data[Dc.length++]=Vf;Dc.g=!0;var Ub=Tb.T,vd=Tb.u,wd=Tb.v,Wf=Tb.C;Ub.length+3>Ub.maxLength&&Ub.expand();Ub.data[Ub.length++]=vd;Ub.data[Ub.length++]=wd;Ub.data[Ub.length++]=Wf;Ub.g=!0;var od=Tb.V,Xf=Tb.F,Yf=
Tb.j;od.length+2>od.maxLength&&od.expand();od.data[od.length++]=Xf;od.data[od.length++]=Yf;od.g=!0;var Rd=Tb.L,Zf=Tb.m;Rd.length+1>Rd.maxLength&&Rd.expand();Rd.data[Rd.length++]=Zf;Rd.g=!0;Tb.m++;var tf=Lc;null==Lc&&(tf=1);var re=g.D.i,Ge=tf;null==Ge&&(Ge=1);re.J=c;re.I=e;re.H=f;re.G=Ge;var uf=g.D,He=ca.x,uc=-ca.y,Wc=ca.z;null==Wc&&(Wc=0);if(1!=uf.M)throw Error("begin shape before vertex");var Gb=uf.i,Vb=Gb.U;Vb.length+3>Vb.maxLength&&Vb.expand();Vb.data[Vb.length++]=He;Vb.data[Vb.length++]=uc;Vb.data[Vb.length++]=
Wc;Vb.g=!0;var ic=Gb.S,Yd=Gb.J,se=Gb.I,$f=Gb.H,ag=Gb.G;ic.length+4>ic.maxLength&&ic.expand();ic.data[ic.length++]=Yd;ic.data[ic.length++]=se;ic.data[ic.length++]=$f;ic.data[ic.length++]=ag;ic.g=!0;var Qc=Gb.T,bg=Gb.u,cg=Gb.v,dg=Gb.C;Qc.length+3>Qc.maxLength&&Qc.expand();Qc.data[Qc.length++]=bg;Qc.data[Qc.length++]=cg;Qc.data[Qc.length++]=dg;Qc.g=!0;var pd=Gb.V,eg=Gb.F,yb=Gb.j;pd.length+2>pd.maxLength&&pd.expand();pd.data[pd.length++]=eg;pd.data[pd.length++]=yb;pd.g=!0;var tb=Gb.L,Ie=Gb.m;tb.length+
1>tb.maxLength&&tb.expand();tb.data[tb.length++]=Ie;tb.g=!0;Gb.m++;var te=gc;null==gc&&(te=1);var Sd=g.D.i,Zd=te;null==Zd&&(Zd=1);Sd.J=c;Sd.I=e;Sd.H=f;Sd.G=Zd;var ue=g.D,vf=va.x,fg=-va.y,$d=va.z;null==$d&&($d=0);if(1!=ue.M)throw Error("begin shape before vertex");var Ob=ue.i,Rc=Ob.U;Rc.length+3>Rc.maxLength&&Rc.expand();Rc.data[Rc.length++]=vf;Rc.data[Rc.length++]=fg;Rc.data[Rc.length++]=$d;Rc.g=!0;var jc=Ob.S,Je=Ob.J,Ke=Ob.I,Eg=Ob.H,Fg=Ob.G;jc.length+4>jc.maxLength&&jc.expand();jc.data[jc.length++]=
Je;jc.data[jc.length++]=Ke;jc.data[jc.length++]=Eg;jc.data[jc.length++]=Fg;jc.g=!0;var Xc=Ob.T,Gg=Ob.u,gg=Ob.v,hg=Ob.C;Xc.length+3>Xc.maxLength&&Xc.expand();Xc.data[Xc.length++]=Gg;Xc.data[Xc.length++]=gg;Xc.data[Xc.length++]=hg;Xc.g=!0;var qd=Ob.V,Le=Ob.F,Hg=Ob.j;qd.length+2>qd.maxLength&&qd.expand();qd.data[qd.length++]=Le;qd.data[qd.length++]=Hg;qd.g=!0;var ae=Ob.L,Ig=Ob.m;ae.length+1>ae.maxLength&&ae.expand();ae.data[ae.length++]=Ig;ae.g=!0;Ob.m++;var be=g.D;if(1!=be.M)throw Error("begin shape before makeQuad");
if(4!=be.fb.mode)throw Error("shape mode must be Triangles");var ig=be.i.m-4,Td=be.i.L;Td.length+1>Td.maxLength&&Td.expand();Td.data[Td.length++]=ig;Td.g=!0;var jg=be.i.m-2,Hb=be.i.L;Hb.length+1>Hb.maxLength&&Hb.expand();Hb.data[Hb.length++]=jg;Hb.g=!0}var Yc=1-va.x/30,ce=.6*d*(0>Yc?0:1<Yc?1:Yc),Zc=1-ca.x/30,de=.6*d*(0>Zc?0:1<Zc?1:Zc),xd=1-da.x/30,Ud=.6*d*(0>xd?0:1<xd?1:xd),Me=1-Fa.x/30,Ne=.6*d*(0>Me?0:1<Me?1:Me);if(0<ce||0<de||0<Ud||0<Ne){var Oe=g.D.i;Oe.u=-Qa.x;Oe.v=Qa.y;Oe.C=Qa.z;var wf=Ne;null==
Ne&&(wf=1);var ve=g.D.i,Pe=wf;null==Pe&&(Pe=1);ve.J=c;ve.I=e;ve.H=f;ve.G=Pe;var xf=g.D,kg=-Fa.x,zb=Fa.y,Pb=Fa.z;null==Pb&&(Pb=0);if(1!=xf.M)throw Error("begin shape before vertex");var Ib=xf.i,Ec=Ib.U;Ec.length+3>Ec.maxLength&&Ec.expand();Ec.data[Ec.length++]=kg;Ec.data[Ec.length++]=zb;Ec.data[Ec.length++]=Pb;Ec.g=!0;var kc=Ib.S,Qe=Ib.J,Re=Ib.I,yf=Ib.H,lg=Ib.G;kc.length+4>kc.maxLength&&kc.expand();kc.data[kc.length++]=Qe;kc.data[kc.length++]=Re;kc.data[kc.length++]=yf;kc.data[kc.length++]=lg;kc.g=
!0;var Fc=Ib.T,zf=Ib.u,mg=Ib.v,Se=Ib.C;Fc.length+3>Fc.maxLength&&Fc.expand();Fc.data[Fc.length++]=zf;Fc.data[Fc.length++]=mg;Fc.data[Fc.length++]=Se;Fc.g=!0;var Sc=Ib.V,Te=Ib.F,Jg=Ib.j;Sc.length+2>Sc.maxLength&&Sc.expand();Sc.data[Sc.length++]=Te;Sc.data[Sc.length++]=Jg;Sc.g=!0;var ee=Ib.L,Kg=Ib.m;ee.length+1>ee.maxLength&&ee.expand();ee.data[ee.length++]=Kg;ee.g=!0;Ib.m++;var ng=Ud;null==Ud&&(ng=1);var we=g.D.i,Ue=ng;null==Ue&&(Ue=1);we.J=c;we.I=e;we.H=f;we.G=Ue;var Af=g.D,Ve=-da.x,Lg=da.y,Bf=da.z;
null==Bf&&(Bf=0);if(1!=Af.M)throw Error("begin shape before vertex");var Zb=Af.i,$c=Zb.U;$c.length+3>$c.maxLength&&$c.expand();$c.data[$c.length++]=Ve;$c.data[$c.length++]=Lg;$c.data[$c.length++]=Bf;$c.g=!0;var Gc=Zb.S,og=Zb.J,pg=Zb.I,Eh=Zb.H,Fh=Zb.G;Gc.length+4>Gc.maxLength&&Gc.expand();Gc.data[Gc.length++]=og;Gc.data[Gc.length++]=pg;Gc.data[Gc.length++]=Eh;Gc.data[Gc.length++]=Fh;Gc.g=!0;var yd=Zb.T,Gh=Zb.u,Hh=Zb.v,Ih=Zb.C;yd.length+3>yd.maxLength&&yd.expand();yd.data[yd.length++]=Gh;yd.data[yd.length++]=
Hh;yd.data[yd.length++]=Ih;yd.g=!0;var fe=Zb.V,Jh=Zb.F,Kh=Zb.j;fe.length+2>fe.maxLength&&fe.expand();fe.data[fe.length++]=Jh;fe.data[fe.length++]=Kh;fe.g=!0;var We=Zb.L,Lh=Zb.m;We.length+1>We.maxLength&&We.expand();We.data[We.length++]=Lh;We.g=!0;Zb.m++;var ph=de;null==de&&(ph=1);var qg=g.D.i,Mg=ph;null==Mg&&(Mg=1);qg.J=c;qg.I=e;qg.H=f;qg.G=Mg;var qh=g.D,Mh=-ca.x,Nh=ca.y,Ng=ca.z;null==Ng&&(Ng=0);if(1!=qh.M)throw Error("begin shape before vertex");var vc=qh.i,zd=vc.U;zd.length+3>zd.maxLength&&zd.expand();
zd.data[zd.length++]=Mh;zd.data[zd.length++]=Nh;zd.data[zd.length++]=Ng;zd.g=!0;var ad=vc.S,Oh=vc.J,Ph=vc.I,Qh=vc.H,Rh=vc.G;ad.length+4>ad.maxLength&&ad.expand();ad.data[ad.length++]=Oh;ad.data[ad.length++]=Ph;ad.data[ad.length++]=Qh;ad.data[ad.length++]=Rh;ad.g=!0;var Ad=vc.T,Sh=vc.u,Th=vc.v,Uh=vc.C;Ad.length+3>Ad.maxLength&&Ad.expand();Ad.data[Ad.length++]=Sh;Ad.data[Ad.length++]=Th;Ad.data[Ad.length++]=Uh;Ad.g=!0;var ge=vc.V,Vh=vc.F,Wh=vc.j;ge.length+2>ge.maxLength&&ge.expand();ge.data[ge.length++]=
Vh;ge.data[ge.length++]=Wh;ge.g=!0;var Xe=vc.L,Xh=vc.m;Xe.length+1>Xe.maxLength&&Xe.expand();Xe.data[Xe.length++]=Xh;Xe.g=!0;vc.m++;var rh=ce;null==ce&&(rh=1);var rg=g.D.i,Og=rh;null==Og&&(Og=1);rg.J=c;rg.I=e;rg.H=f;rg.G=Og;var sh=g.D,Yh=-va.x,Zh=va.y,Pg=va.z;null==Pg&&(Pg=0);if(1!=sh.M)throw Error("begin shape before vertex");var wc=sh.i,Bd=wc.U;Bd.length+3>Bd.maxLength&&Bd.expand();Bd.data[Bd.length++]=Yh;Bd.data[Bd.length++]=Zh;Bd.data[Bd.length++]=Pg;Bd.g=!0;var bd=wc.S,$h=wc.J,ai=wc.I,bi=wc.H,
ci=wc.G;bd.length+4>bd.maxLength&&bd.expand();bd.data[bd.length++]=$h;bd.data[bd.length++]=ai;bd.data[bd.length++]=bi;bd.data[bd.length++]=ci;bd.g=!0;var Cd=wc.T,di=wc.u,ei=wc.v,fi=wc.C;Cd.length+3>Cd.maxLength&&Cd.expand();Cd.data[Cd.length++]=di;Cd.data[Cd.length++]=ei;Cd.data[Cd.length++]=fi;Cd.g=!0;var he=wc.V,gi=wc.F,hi=wc.j;he.length+2>he.maxLength&&he.expand();he.data[he.length++]=gi;he.data[he.length++]=hi;he.g=!0;var Ye=wc.L,ii=wc.m;Ye.length+1>Ye.maxLength&&Ye.expand();Ye.data[Ye.length++]=
ii;Ye.g=!0;wc.m++;var Ze=g.D;if(1!=Ze.M)throw Error("begin shape before makeQuad");if(4!=Ze.fb.mode)throw Error("shape mode must be Triangles");var ji=Ze.i.m-4,$e=Ze.i.L;$e.length+1>$e.maxLength&&$e.expand();$e.data[$e.length++]=ji;$e.g=!0;var ki=Ze.i.m-2,af=Ze.i.L;af.length+1>af.maxLength&&af.expand();af.data[af.length++]=ki;af.g=!0}var Qg=1-(246-va.x)/30,Rg=.6*d*(0>Qg?0:1<Qg?1:Qg),Sg=1-(246-ca.x)/30,Tg=.6*d*(0>Sg?0:1<Sg?1:Sg),Ug=1-(246-da.x)/30,Vg=.6*d*(0>Ug?0:1<Ug?1:Ug),Wg=1-(246-Fa.x)/30,Xg=.6*
d*(0>Wg?0:1<Wg?1:Wg);if(0<Rg||0<Tg||0<Vg||0<Xg){var Yg=g.D.i;Yg.u=-Qa.x;Yg.v=Qa.y;Yg.C=Qa.z;var th=Xg;null==Xg&&(th=1);var sg=g.D.i,Zg=th;null==Zg&&(Zg=1);sg.J=c;sg.I=e;sg.H=f;sg.G=Zg;var uh=g.D,li=492-Fa.x,mi=Fa.y,$g=Fa.z;null==$g&&($g=0);if(1!=uh.M)throw Error("begin shape before vertex");var xc=uh.i,Dd=xc.U;Dd.length+3>Dd.maxLength&&Dd.expand();Dd.data[Dd.length++]=li;Dd.data[Dd.length++]=mi;Dd.data[Dd.length++]=$g;Dd.g=!0;var cd=xc.S,ni=xc.J,oi=xc.I,pi=xc.H,qi=xc.G;cd.length+4>cd.maxLength&&cd.expand();
cd.data[cd.length++]=ni;cd.data[cd.length++]=oi;cd.data[cd.length++]=pi;cd.data[cd.length++]=qi;cd.g=!0;var Ed=xc.T,ri=xc.u,si=xc.v,ti=xc.C;Ed.length+3>Ed.maxLength&&Ed.expand();Ed.data[Ed.length++]=ri;Ed.data[Ed.length++]=si;Ed.data[Ed.length++]=ti;Ed.g=!0;var ie=xc.V,ui=xc.F,vi=xc.j;ie.length+2>ie.maxLength&&ie.expand();ie.data[ie.length++]=ui;ie.data[ie.length++]=vi;ie.g=!0;var bf=xc.L,wi=xc.m;bf.length+1>bf.maxLength&&bf.expand();bf.data[bf.length++]=wi;bf.g=!0;xc.m++;var vh=Vg;null==Vg&&(vh=
1);var tg=g.D.i,ah=vh;null==ah&&(ah=1);tg.J=c;tg.I=e;tg.H=f;tg.G=ah;var wh=g.D,xi=492-da.x,yi=da.y,bh=da.z;null==bh&&(bh=0);if(1!=wh.M)throw Error("begin shape before vertex");var yc=wh.i,Fd=yc.U;Fd.length+3>Fd.maxLength&&Fd.expand();Fd.data[Fd.length++]=xi;Fd.data[Fd.length++]=yi;Fd.data[Fd.length++]=bh;Fd.g=!0;var dd=yc.S,zi=yc.J,Ai=yc.I,Bi=yc.H,Ci=yc.G;dd.length+4>dd.maxLength&&dd.expand();dd.data[dd.length++]=zi;dd.data[dd.length++]=Ai;dd.data[dd.length++]=Bi;dd.data[dd.length++]=Ci;dd.g=!0;var Gd=
yc.T,Di=yc.u,Ei=yc.v,Fi=yc.C;Gd.length+3>Gd.maxLength&&Gd.expand();Gd.data[Gd.length++]=Di;Gd.data[Gd.length++]=Ei;Gd.data[Gd.length++]=Fi;Gd.g=!0;var je=yc.V,Gi=yc.F,Hi=yc.j;je.length+2>je.maxLength&&je.expand();je.data[je.length++]=Gi;je.data[je.length++]=Hi;je.g=!0;var cf=yc.L,Ii=yc.m;cf.length+1>cf.maxLength&&cf.expand();cf.data[cf.length++]=Ii;cf.g=!0;yc.m++;var xh=Tg;null==Tg&&(xh=1);var ug=g.D.i,ch=xh;null==ch&&(ch=1);ug.J=c;ug.I=e;ug.H=f;ug.G=ch;var yh=g.D,Ji=492-ca.x,Ki=ca.y,dh=ca.z;null==
dh&&(dh=0);if(1!=yh.M)throw Error("begin shape before vertex");var zc=yh.i,Hd=zc.U;Hd.length+3>Hd.maxLength&&Hd.expand();Hd.data[Hd.length++]=Ji;Hd.data[Hd.length++]=Ki;Hd.data[Hd.length++]=dh;Hd.g=!0;var ed=zc.S,Li=zc.J,Mi=zc.I,Ni=zc.H,Oi=zc.G;ed.length+4>ed.maxLength&&ed.expand();ed.data[ed.length++]=Li;ed.data[ed.length++]=Mi;ed.data[ed.length++]=Ni;ed.data[ed.length++]=Oi;ed.g=!0;var Id=zc.T,Pi=zc.u,Qi=zc.v,Ri=zc.C;Id.length+3>Id.maxLength&&Id.expand();Id.data[Id.length++]=Pi;Id.data[Id.length++]=
Qi;Id.data[Id.length++]=Ri;Id.g=!0;var ke=zc.V,Si=zc.F,Ti=zc.j;ke.length+2>ke.maxLength&&ke.expand();ke.data[ke.length++]=Si;ke.data[ke.length++]=Ti;ke.g=!0;var df=zc.L,Ui=zc.m;df.length+1>df.maxLength&&df.expand();df.data[df.length++]=Ui;df.g=!0;zc.m++;var zh=Rg;null==Rg&&(zh=1);var vg=g.D.i,eh=zh;null==eh&&(eh=1);vg.J=c;vg.I=e;vg.H=f;vg.G=eh;var Ah=g.D,Vi=492-va.x,Wi=va.y,fh=va.z;null==fh&&(fh=0);if(1!=Ah.M)throw Error("begin shape before vertex");var Ac=Ah.i,Jd=Ac.U;Jd.length+3>Jd.maxLength&&Jd.expand();
Jd.data[Jd.length++]=Vi;Jd.data[Jd.length++]=Wi;Jd.data[Jd.length++]=fh;Jd.g=!0;var fd=Ac.S,Xi=Ac.J,Yi=Ac.I,Zi=Ac.H,$i=Ac.G;fd.length+4>fd.maxLength&&fd.expand();fd.data[fd.length++]=Xi;fd.data[fd.length++]=Yi;fd.data[fd.length++]=Zi;fd.data[fd.length++]=$i;fd.g=!0;var Kd=Ac.T,aj=Ac.u,bj=Ac.v,cj=Ac.C;Kd.length+3>Kd.maxLength&&Kd.expand();Kd.data[Kd.length++]=aj;Kd.data[Kd.length++]=bj;Kd.data[Kd.length++]=cj;Kd.g=!0;var le=Ac.V,dj=Ac.F,ej=Ac.j;le.length+2>le.maxLength&&le.expand();le.data[le.length++]=
dj;le.data[le.length++]=ej;le.g=!0;var ef=Ac.L,fj=Ac.m;ef.length+1>ef.maxLength&&ef.expand();ef.data[ef.length++]=fj;ef.g=!0;Ac.m++;var ff=g.D;if(1!=ff.M)throw Error("begin shape before makeQuad");if(4!=ff.fb.mode)throw Error("shape mode must be Triangles");var gj=ff.i.m-4,gf=ff.i.L;gf.length+1>gf.maxLength&&gf.expand();gf.data[gf.length++]=gj;gf.g=!0;var hj=ff.i.m-2,hf=ff.i.L;hf.length+1>hf.maxLength&&hf.expand();hf.data[hf.length++]=hj;hf.g=!0}}var c=this.color.x,e=this.color.y,f=this.color.z,d=
this.alpha,g=this,h=a.Y;h=new Ia(h.N,h.P,0);var k=a.Y;k=new Ia(k.O,k.R,0);var n=new Ia(0,0,1),m=a.B.x,r=a.B.y,u=a.B.x,q=a.B.y;u=u<q?u:q;q=a.p;var p=this.He;a=q.x+p.x;q=q.y+p.y;var z=0+p.z;p=new Ia(a-h.x*m-k.x*r-n.x*u,q-h.y*m-k.y*r-n.y*u,z-h.z*m-k.z*r-n.z*u);var Ba=new Ia(a-h.x*m-k.x*r+n.x*u,q-h.y*m-k.y*r+n.y*u,z-h.z*m-k.z*r+n.z*u),Qb=new Ia(a-h.x*m+k.x*r-n.x*u,q-h.y*m+k.y*r-n.y*u,z-h.z*m+k.z*r-n.z*u),$b=new Ia(a-h.x*m+k.x*r+n.x*u,q-h.y*m+k.y*r+n.y*u,z-h.z*m+k.z*r+n.z*u),ac=new Ia(a+h.x*m-k.x*r-n.x*
u,q+h.y*m-k.y*r-n.y*u,z+h.z*m-k.z*r-n.z*u),x=new Ia(a+h.x*m-k.x*r+n.x*u,q+h.y*m-k.y*r+n.y*u,z+h.z*m-k.z*r+n.z*u),Ya=new Ia(a+h.x*m+k.x*r-n.x*u,q+h.y*m+k.y*r-n.y*u,z+h.z*m+k.z*r-n.z*u);m=new Ia(a+h.x*m+k.x*r+n.x*u,q+h.y*m+k.y*r+n.y*u,z+h.z*m+k.z*r+n.z*u);b(new Ia(-h.x,-h.y,-h.z),p,Ba,$b,Qb);b(h,ac,Ya,m,x);b(new Ia(-k.x,-k.y,-k.z),p,ac,x,Ba);b(k,Qb,$b,m,Ya);b(new Ia(-n.x,-n.y,-n.z),p,Qb,Ya,ac);b(n,Ba,x,m,$b)};oc.ag=function(){new oc(window.document.getElementById("canvas"))};oc.A=!0;Math.A=!0;Tc.Va=
function(a){return pe.Lb(a,"")};Tc.A=!0;lh(gb,Error);gb.rc=function(a){return a instanceof gb?a:a instanceof Error?new gb(a.message,null,a):new Kf(a,null,a)};gb.Pa=function(a){return a instanceof gb?a.Af:a instanceof Error?a:new Kf(a)};gb.A=!0;lh(Kf,gb);Kf.A=!0;ze.A=!0;Cg.prototype.next=function(){return this.Bf[this.current++]};Cg.A=!0;yg.A=!0;me.A=!0;De.get=function(a,b){return a.data[b]};De.iterator=function(a){return new Cg(a.data)};De.map=function(a,b){a=a.data;for(var c=Array(a.length),e=0,
f=a.length;e<f;){var d=e++;c[d]=b(a[d])}return c};pe.Lb=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.A||a.Qa)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a.o){var e=Uc[a.o].ia[a.l];c=e.s;if(e.K){b+="\t";var f=[],d=0;for(e=e.K;d<e.length;){var g=e[d];d+=1;f.push(pe.Lb(a[g],b))}return c+"("+f.join(",")+")"}return c}if(a instanceof Array){c="[";b+="\t";f=0;for(d=a.length;f<d;)e=f++,c+=(0<e?",":"")+pe.Lb(a[e],b);return c+
"]"}try{f=a.toString}catch(h){return"???"}if(null!=f&&f!=Object.toString&&"function"==typeof f&&(c=a.toString(),"[object Object]"!=c))return c;c="{\n";b+="\t";f=null!=a.hasOwnProperty;d=null;for(d in a)f&&!a.hasOwnProperty(d)||"prototype"==d||"__class__"==d||"__super__"==d||"__interfaces__"==d||"__properties__"==d||(2!=c.length&&(c+=", \n"),c+=b+d+" : "+pe.Lb(a[d],b));b=b.substring(1);return c+("\n"+b+"}");case "string":return a;default:return String(a)}};pe.A=!0;Hf.A=!0;Ce.A=!0;F.A=!0;Ia.A=!0;oh.A=
!0;Jf.prototype.set=function(a,b){var c=this.min;c.x=a.x;c.y=a.y;a=this.max;a.x=b.x;a.y=b.y};Jf.prototype.Zf=function(a){return this.min.x<=a.max.x&&this.max.x>=a.min.x&&this.min.y<=a.max.y?this.max.y>=a.min.y:!1};Jf.A=!0;Hc.prototype.Oa=function(a,b){null==b&&(b=1);this.shape=a;a.Cb();b*=a.Tc;a=b*a.hd;this.pa=0<b?1/b:0;this.kd=0<a?1/a:0;this.sync();return this};Hc.prototype.sync=function(){var a=this.Y,b=this.Ea,c=Math.sin(b);b=Math.cos(b);a.N=b;a.O=-c;a.P=c;a.R=b;this.shape.Ea=this.Ea;a=this.shape.Y;
c=this.Y;a.N=c.N;a.O=c.O;a.P=c.P;a.R=c.R;a=this.shape.p;c=this.p;a.x=c.x;a.y=c.y;this.shape.Rd()};Hc.A=!0;mc.prototype.Z=function(a){this.lc=new Jf;this.Y=new Hf(1,0,0,1);this.Ea=0;this.p=new F(0,0);this.Tc=this.hd=0;this.type=a};mc.prototype.Cb=function(){};mc.prototype.Rd=function(){};mc.A=!0;lh(nc,mc);nc.prototype.Z=function(a,b){this.B=new F(0,0);mc.prototype.Z.call(this,Cf.Vd(this));var c=this.B;c.x=a;c.y=b};nc.prototype.Cb=function(){var a=this.B,b=this.B;this.Tc=4*(b.x*a.x+b.y*a.y);b=a=this.B;
this.hd=(b.x*a.x+b.y*a.y)/3};nc.prototype.Rd=function(){var a=this.Y,b=a.N;a=a.P;var c=this.B.x;b=(0>b?-b:b)*c;a=(0>a?-a:a)*c;var e=this.Y;c=e.O;e=e.R;var f=this.B.y;c=(0>c?-c:c)*f;f*=0>e?-e:e;var d=this.lc,g=this.p,h=this.p;e=h.x+b+c;h=h.y+a+f;var k=d.min;k.x=g.x-b-c;k.y=g.y-a-f;b=d.max;b.x=e;b.y=h};nc.A=!0;N.Bb=function(a,b,c){var e=N.Wa[0],f=a.p,d=a.Y,g=a.B,h=-1*g.x,k=-1*g.y;e.x=f.x+(d.N*h+d.O*k);e.y=f.y+(d.P*h+d.R*k);var n=N.Wa[1],m=a.p,r=a.Y,u=a.B,q=-1*u.x,p=1*u.y;n.x=m.x+(r.N*q+r.O*p);n.y=m.y+
(r.P*q+r.R*p);var z=N.Wa[2],Ba=a.p,Qb=a.Y,$b=a.B,ac=1*$b.x,x=1*$b.y;z.x=Ba.x+(Qb.N*ac+Qb.O*x);z.y=Ba.y+(Qb.P*ac+Qb.R*x);var Ya=N.Wa[3],Qa=a.p,va=a.Y,ca=a.B,da=1*ca.x,Fa=-1*ca.y;Ya.x=Qa.x+(va.N*da+va.O*Fa);Ya.y=Qa.y+(va.P*da+va.R*Fa);var jb=N.Xa[0],hb=b.p,Ab=b.Y,la=b.B,Ra=-1*la.x,Q=-1*la.y;jb.x=hb.x+(Ab.N*Ra+Ab.O*Q);jb.y=hb.y+(Ab.P*Ra+Ab.R*Q);var cb=N.Xa[1],Ja=b.p,T=b.Y,qa=b.B,K=-1*qa.x,ib=1*qa.y;cb.x=Ja.x+(T.N*K+T.O*ib);cb.y=Ja.y+(T.P*K+T.R*ib);var wa=N.Xa[2],kb=b.p,xa=b.Y,ya=b.B,Ga=1*ya.x,La=1*ya.y;
wa.x=kb.x+(xa.N*Ga+xa.O*La);wa.y=kb.y+(xa.P*Ga+xa.R*La);var lb=N.Xa[3],ha=b.p,U=b.Y,ra=b.B,V=1*ra.x,W=-1*ra.y;lb.x=ha.x+(U.N*V+U.O*W);lb.y=ha.y+(U.P*V+U.R*W);var Za=N.gb[0],Sa=a.Y;Za.x=-Sa.N;Za.y=-Sa.P;var pc=N.gb[1],Ta=a.Y;pc.x=Ta.O;pc.y=Ta.R;var Ca=N.gb[2],db=a.Y;Ca.x=db.N;Ca.y=db.P;var ia=N.gb[3],mb=a.Y;ia.x=-mb.O;ia.y=-mb.R;var qc=N.hb[0],rc=b.Y;qc.x=-rc.N;qc.y=-rc.P;var Ma=N.hb[1],$a=b.Y;Ma.x=$a.O;Ma.y=$a.R;var Bc=N.hb[2],ma=b.Y;Bc.x=ma.N;Bc.y=ma.P;var nb=N.hb[3],sa=b.Y;nb.x=-sa.O;nb.y=-sa.R;
var O=-1,Da=N.Wa,R=N.Xa,Ua=N.gb,Ea=1E9;O=-1;var Bb=Da[0],Kb=Ua[0],ob=1E9,J=R[0],pb=(J.x-Bb.x)*Kb.x+(J.y-Bb.y)*Kb.y;1E9>pb&&(ob=pb);var S=R[1],ta=(S.x-Bb.x)*Kb.x+(S.y-Bb.y)*Kb.y;ta<ob&&(ob=ta);var ka=R[2],Ka=(ka.x-Bb.x)*Kb.x+(ka.y-Bb.y)*Kb.y;Ka<ob&&(ob=Ka);var L=R[3],P=(L.x-Bb.x)*Kb.x+(L.y-Bb.y)*Kb.y;P<ob&&(ob=P);var Ha=-ob;1E9>Ha&&(Ea=Ha,O=0);var Va=Da[1],ab=Ua[1],H=1E9,Na=R[0],X=(Na.x-Va.x)*ab.x+(Na.y-Va.y)*ab.y;1E9>X&&(H=X);var qb=R[1],Wb=(qb.x-Va.x)*ab.x+(qb.y-Va.y)*ab.y;Wb<H&&(H=Wb);var Lb=R[2],
bb=(Lb.x-Va.x)*ab.x+(Lb.y-Va.y)*ab.y;bb<H&&(H=bb);var Wa=R[3],Cb=(Wa.x-Va.x)*ab.x+(Wa.y-Va.y)*ab.y;Cb<H&&(H=Cb);var Y=-H;Y<Ea&&(Ea=Y,O=1);var ua=Da[2],M=Ua[2],ea=1E9,eb=R[0],za=(eb.x-ua.x)*M.x+(eb.y-ua.y)*M.y;1E9>za&&(ea=za);var cc=R[1],Xa=(cc.x-ua.x)*M.x+(cc.y-ua.y)*M.y;Xa<ea&&(ea=Xa);var dc=R[2],Aa=(dc.x-ua.x)*M.x+(dc.y-ua.y)*M.y;Aa<ea&&(ea=Aa);var na=R[3],oa=(na.x-ua.x)*M.x+(na.y-ua.y)*M.y;oa<ea&&(ea=oa);var ec=-ea;ec<Ea&&(Ea=ec,O=2);var rb=Da[3],pa=Ua[3],Db=1E9,Oa=R[0],Sb=(Oa.x-rb.x)*pa.x+(Oa.y-
rb.y)*pa.y;1E9>Sb&&(Db=Sb);var Mb=R[1],Pa=(Mb.x-rb.x)*pa.x+(Mb.y-rb.y)*pa.y;Pa<Db&&(Db=Pa);var Z=R[2],fc=(Z.x-rb.x)*pa.x+(Z.y-rb.y)*pa.y;fc<Db&&(Db=fc);var gc=R[3],Xb=(gc.x-rb.x)*pa.x+(gc.y-rb.y)*pa.y;Xb<Db&&(Db=Xb);var Lc=-Db;Lc<Ea&&(Ea=Lc,O=3);var kd=Ea,Mc=O;if(!(0>kd)){var Nc=N.Xa,fb=N.Wa,Oc=N.hb,sc=1E9;O=-1;var Yb=Nc[0],hc=Oc[0],tc=1E9,Od=fb[0],Pd=(Od.x-Yb.x)*hc.x+(Od.y-Yb.y)*hc.y;1E9>Pd&&(tc=Pd);var ld=fb[1],wb=(ld.x-Yb.x)*hc.x+(ld.y-Yb.y)*hc.y;wb<tc&&(tc=wb);var Cc=fb[2],xb=(Cc.x-Yb.x)*hc.x+
(Cc.y-Yb.y)*hc.y;xb<tc&&(tc=xb);var Eb=fb[3],Fb=(Eb.x-Yb.x)*hc.x+(Eb.y-Yb.y)*hc.y;Fb<tc&&(tc=Fb);var Ic=-tc;1E9>Ic&&(sc=Ic,O=0);var Nb=Nc[1],sb=Oc[1],td=1E9,Mf=fb[0],Nf=(Mf.x-Nb.x)*sb.x+(Mf.y-Nb.y)*sb.y;1E9>Nf&&(td=Nf);var md=fb[1],Of=(md.x-Nb.x)*sb.x+(md.y-Nb.y)*sb.y;Of<td&&(td=Of);var Pf=fb[2],Qd=(Pf.x-Nb.x)*sb.x+(Pf.y-Nb.y)*sb.y;Qd<td&&(td=Qd);var Qf=fb[3],sf=(Qf.x-Nb.x)*sb.x+(Qf.y-Nb.y)*sb.y;sf<td&&(td=sf);var qe=-td;qe<sc&&(sc=qe,O=1);var Vc=Nc[2],nd=Oc[2],ud=1E9,Rf=fb[0],Fe=(Rf.x-Vc.x)*nd.x+
(Rf.y-Vc.y)*nd.y;1E9>Fe&&(ud=Fe);var Tb=fb[1],Pc=(Tb.x-Vc.x)*nd.x+(Tb.y-Vc.y)*nd.y;Pc<ud&&(ud=Pc);var Dc=fb[2],Sf=(Dc.x-Vc.x)*nd.x+(Dc.y-Vc.y)*nd.y;Sf<ud&&(ud=Sf);var Tf=fb[3],Uf=(Tf.x-Vc.x)*nd.x+(Tf.y-Vc.y)*nd.y;Uf<ud&&(ud=Uf);var Vf=-ud;Vf<sc&&(sc=Vf,O=2);var Ub=Nc[3],vd=Oc[3],wd=1E9,Wf=fb[0],od=(Wf.x-Ub.x)*vd.x+(Wf.y-Ub.y)*vd.y;1E9>od&&(wd=od);var Xf=fb[1],Yf=(Xf.x-Ub.x)*vd.x+(Xf.y-Ub.y)*vd.y;Yf<wd&&(wd=Yf);var Rd=fb[2],Zf=(Rd.x-Ub.x)*vd.x+(Rd.y-Ub.y)*vd.y;Zf<wd&&(wd=Zf);var tf=fb[3],re=(tf.x-
Ub.x)*vd.x+(tf.y-Ub.y)*vd.y;re<wd&&(wd=re);var Ge=-wd;Ge<sc&&(sc=Ge,O=3);var uf=sc,He=O;if(!(0>uf))if(kd<uf){var uc=N.gb[Mc],Wc=N.Wa[Mc],Gb=N.Wa[Mc+1&3],Vb=N.gb[Mc],ic=N.hb,Yd=1,se=-1,$f=ic[0],ag=Vb.x*$f.x+Vb.y*$f.y;1>ag&&(Yd=ag,se=0);var Qc=ic[1],bg=Vb.x*Qc.x+Vb.y*Qc.y;bg<Yd&&(Yd=bg,se=1);var cg=ic[2],dg=Vb.x*cg.x+Vb.y*cg.y;dg<Yd&&(Yd=dg,se=2);var pd=ic[3];Vb.x*pd.x+Vb.y*pd.y<Yd&&(se=3);var eg=se,yb=N.Xa[eg],tb=N.Xa[eg+1&3],Ie=a.p,te=b.p,Sd=-uc.y,Zd=uc.x,ue=Sd*(yb.x-Wc.x)+Zd*(yb.y-Wc.y),vf=Sd*(tb.x-
Wc.x)+Zd*(tb.y-Wc.y);if(!(0<ue&&0<vf)){if(0>ue*vf){var fg=ue/(ue-vf);tb.x=yb.x+(tb.x-yb.x)*fg;tb.y=yb.y+(tb.y-yb.y)*fg}var $d=Sd*(yb.x-Gb.x)+Zd*(yb.y-Gb.y),Ob=Sd*(tb.x-Gb.x)+Zd*(tb.y-Gb.y);if(!(0>$d&&0>Ob)){if(0>$d*Ob){var Rc=$d/($d-Ob);yb.x+=(tb.x-yb.x)*Rc;yb.y+=(tb.y-yb.y)*Rc}var jc=(Wc.x-yb.x)*uc.x+(Wc.y-yb.y)*uc.y,Je=(Wc.x-tb.x)*uc.x+(Wc.y-tb.y)*uc.y;if(0<jc){var Ke=c.Ia[c.Ca++],Eg=yb.x-te.x,Fg=yb.y-te.y,Xc=-uc.x,Gg=-uc.y,gg=Ke.da;gg.x=yb.x+uc.x*jc-Ie.x;gg.y=yb.y+uc.y*jc-Ie.y;var hg=Ke.ea;hg.x=
Eg;hg.y=Fg;var qd=Ke.n;qd.x=Xc;qd.y=Gg;Ke.depth=jc}if(0<Je){var Le=c.Ia[c.Ca++],Hg=tb.x-te.x,ae=tb.y-te.y,Ig=-uc.x,be=-uc.y,ig=Le.da;ig.x=tb.x+uc.x*Je-Ie.x;ig.y=tb.y+uc.y*Je-Ie.y;var Td=Le.ea;Td.x=Hg;Td.y=ae;var jg=Le.n;jg.x=Ig;jg.y=be;Le.depth=Je}}}}else{var Hb=N.hb[He],Yc=N.Xa[He],ce=N.Xa[He+1&3],Zc=N.hb[He],de=N.gb,xd=1,Ud=-1,Me=de[0],Ne=Zc.x*Me.x+Zc.y*Me.y;1>Ne&&(xd=Ne,Ud=0);var Oe=de[1],wf=Zc.x*Oe.x+Zc.y*Oe.y;wf<xd&&(xd=wf,Ud=1);var ve=de[2],Pe=Zc.x*ve.x+Zc.y*ve.y;Pe<xd&&(xd=Pe,Ud=2);var xf=
de[3];Zc.x*xf.x+Zc.y*xf.y<xd&&(Ud=3);var kg=Ud,zb=N.Wa[kg],Pb=N.Wa[kg+1&3],Ib=b.p,Ec=a.p,kc=-Hb.y,Qe=Hb.x,Re=kc*(zb.x-Yc.x)+Qe*(zb.y-Yc.y),yf=kc*(Pb.x-Yc.x)+Qe*(Pb.y-Yc.y);if(!(0<Re&&0<yf)){if(0>Re*yf){var lg=Re/(Re-yf);Pb.x=zb.x+(Pb.x-zb.x)*lg;Pb.y=zb.y+(Pb.y-zb.y)*lg}var Fc=kc*(zb.x-ce.x)+Qe*(zb.y-ce.y),zf=kc*(Pb.x-ce.x)+Qe*(Pb.y-ce.y);if(!(0>Fc&&0>zf)){if(0>Fc*zf){var mg=Fc/(Fc-zf);zb.x+=(Pb.x-zb.x)*mg;zb.y+=(Pb.y-zb.y)*mg}var Se=(Yc.x-zb.x)*Hb.x+(Yc.y-zb.y)*Hb.y,Sc=(Yc.x-Pb.x)*Hb.x+(Yc.y-Pb.y)*
Hb.y;if(0<Se){var Te=c.Ia[c.Ca++],Jg=zb.x-Ec.x,ee=zb.y-Ec.y,Kg=-Hb.x,ng=-Hb.y,we=Te.da;we.x=zb.x+Hb.x*Se-Ib.x;we.y=zb.y+Hb.y*Se-Ib.y;var Ue=Te.ea;Ue.x=Jg;Ue.y=ee;var Af=Te.n;Af.x=Kg;Af.y=ng;Te.depth=Se}if(0<Sc){var Ve=c.Ia[c.Ca++],Lg=Pb.x-Ec.x,Bf=Pb.y-Ec.y,Zb=-Hb.x,$c=-Hb.y,Gc=Ve.da;Gc.x=Pb.x+Hb.x*Sc-Ib.x;Gc.y=Pb.y+Hb.y*Sc-Ib.y;var og=Ve.ea;og.x=Lg;og.y=Bf;var pg=Ve.n;pg.x=Zb;pg.y=$c;Ve.depth=Sc}c.Qb()}}}}};N.A=!0;lh(qf,mc);qf.prototype.Z=function(a){mc.prototype.Z.call(this,Cf.Xd(this));this.r=a};
qf.prototype.Cb=function(){this.Tc=Math.PI*this.r*this.r;this.hd=this.r*this.r/2};qf.prototype.Rd=function(){var a=this.lc,b=this.p,c=this.r,e=this.p,f=this.r,d=e.x+f;e=e.y+f;f=a.min;f.x=b.x-c;f.y=b.y-c;a=a.max;a.x=d;a.y=e};qf.A=!0;If.Bb=function(a,b,c){var e=a.p,f=b.p,d=e.x-f.x;e=e.y-f.y;var g=b.Y;f=g.N*d+g.P*e;g=g.O*d+g.R*e;e=b.B;d=-e.x;e=-e.y;d=f>d?f:d;e=g>e?g:e;var h=b.B,k=h.x;h=h.y;d=d<k?d:k;e=e<h?e:h;f=d-f;g=e-g;g=f*f+g*g;if(0==g){g=b.B;f=g.x+d;g=g.y+e;k=b.B;var n=k.x-d,m=k.y-e;h=k=0;f<g?n<
m?f<n?(k=-1,d=-b.B.x):(k=1,d=b.B.x,f=n):f<m?(k=-1,d=-b.B.x):(h=1,e=b.B.y,f=m):n<m?g<n?(h=-1,e=-b.B.y,f=g):(k=1,d=b.B.x,f=n):g<m?(h=-1,e=-b.B.y,f=g):(h=1,e=b.B.y,f=m);n=b.Y;g=n.N*k+n.O*h;k=n.P*k+n.R*h;b=b.Y;c=c.Ia[c.Ca++];a=a.r;h=c.da;h.x=-g*a;h.y=-k*a;a=c.ea;a.x=b.N*d+b.O*e;a.y=b.P*d+b.R*e;a=c.n;a.x=g;a.y=k;c.depth=f}else 0<g&&g<a.r*a.r&&(k=b.Y,f=k.N*d+k.O*e,d=k.P*d+k.R*e,e=a.p,k=b.p,b=e.x-(f+k.x),e=e.y-(d+k.y),k=Math.sqrt(b*b+e*e),0<k&&(k=1/k),b*=k,e*=k,g=a.r-Math.sqrt(g),c=c.Ia[c.Ca++],a=a.r,k=
c.da,k.x=-b*a,k.y=-e*a,a=c.ea,a.x=f,a.y=d,a=c.n,a.x=b,a.y=e,c.depth=g)};If.A=!0;Bg.Bb=function(a,b,c){var e=a.p,f=b.p,d=e.x-f.x;f=e.y-f.y;e=d*d+f*f;if(0<e){var g=Math.sqrt(d*d+f*f);0<g&&(g=1/g);d=new F(d*g,f*g)}else d=new F(1,0);f=a.r+b.r;e<f*f&&(e=f-Math.sqrt(e),c=c.Ia[c.Ca++],a=a.r,f=b.r,b=d.x*f,f*=d.y,g=c.da,g.x=-d.x*a,g.y=-d.y*a,a=c.ea,a.x=b,a.y=f,b=c.n,b.x=d.x,b.y=d.y,c.depth=e)};Bg.A=!0;Xd.prototype.set=function(a,b,c){this.aa=a;this.ba=b;var e=this.da,f=c.da;e.x=f.x;e.y=f.y;e=this.ea;f=c.ea;
e.x=f.x;e.y=f.y;e=this.nd;f=a.Y;var d=this.da,g=f.O*d.x+f.R*d.y;e.x=f.N*d.x+f.P*d.y;e.y=g;e=this.od;f=b.Y;d=this.ea;g=f.O*d.x+f.R*d.y;e.x=f.N*d.x+f.P*d.y;e.y=g;e=this.Fd;a=a.p;f=this.da;e.x=a.x+f.x;e.y=a.y+f.y;a=this.Gd;b=b.p;e=this.ea;a.x=b.x+e.x;a.y=b.y+e.y;b=this.n;a=c.n;b.x=a.x;b.y=a.y;b=this.t;a=this.n;e=a.x;b.x=-a.y;b.y=e;this.depth=c.depth;return this};Xd.prototype.eg=function(){var a=this.aa.j,b=this.ba.j,c=this.aa.X,e=this.da,f=this.ba.X,d=this.ea,g=this.n;a=(a.x-b.x+-e.y*c- -d.y*f)*g.x+
(a.y-b.y+e.x*c-d.x*f)*g.y;b=Math.sqrt(this.aa.zc*this.ba.zc);this.Ya=Math.sqrt(this.aa.Ya*this.ba.Ya);this.target=-.2>a?-b*a:0;.05<this.depth&&(a=.1*(this.depth-.05),this.target<a&&(this.target=a));this.Ma=this.Ga=0;this.Cb()};Xd.prototype.dg=function(){var a=this.aa.j,b=this.ba.j,c=this.aa.X,e=this.da,f=this.ba.X,d=this.ea,g=a.x-b.x+-e.y*c- -d.y*f;a=a.y-b.y+e.x*c-d.x*f;b=this.n;b=g*b.x+a*b.y;c=Math.sqrt(this.aa.zc*this.ba.zc);this.Ya=Math.sqrt(this.aa.Ya*this.ba.Ya);-.05<b?(b=0,c=.2):c=b=-b/c;e=
this.t;g=g*e.x+a*e.y;this.ed=-.05>g?-1:.05<g?1:0;this.target=b;.05>Math.random()&&(this.target=c);this.Ma=this.Ga=0;this.Cb()};Xd.prototype.Cb=function(){var a=this.n,b=this.da;this.pb=b.x*a.y-b.y*a.x;a=this.t;b=this.da;this.rb=b.x*a.y-b.y*a.x;a=this.n;b=this.ea;this.qb=b.x*a.y-b.y*a.x;a=this.t;b=this.ea;this.sb=b.x*a.y-b.y*a.x;var c=this.aa.pa;a=this.ba.pa;b=this.aa.kd;var e=this.ba.kd;this.pa.N=c+a+b*this.pb*this.pb+e*this.qb*this.qb;this.pa.R=c+a+b*this.rb*this.rb+e*this.sb*this.sb;this.pa.O=b*
this.pb*this.rb+e*this.qb*this.sb;this.pa.P=this.pa.O;this.pd=1/this.pa.N;this.qd=1/this.pa.R;var f=this.xd,d=this.n;f.x=d.x*c;f.y=d.y*c;f=this.yd;d=this.n;f.x=d.x*a;f.y=d.y*a;f=this.Nd;d=this.t;f.x=d.x*c;f.y=d.y*c;c=this.Od;f=this.t;c.x=f.x*a;c.y=f.y*a;this.ud=this.pb*b;this.vd=this.qb*e;this.Kd=this.rb*b;this.Ld=this.sb*e};Xd.prototype.kg=function(){var a=this.aa.j,b=this.ba.j,c=this.n,e=this.Ga;a=this.Ga+(this.target-((a.x-b.x)*c.x+(a.y-b.y)*c.y+this.aa.X*this.pb-this.ba.X*this.qb))*this.pd;this.Ga=
0<a?a:0;e=this.Ga-e;a=this.aa.j;b=this.xd;a.x+=b.x*e;a.y+=b.y*e;a=this.ba.j;b=this.yd;a.x-=b.x*e;a.y-=b.y*e;this.aa.X+=this.ud*e;this.ba.X-=this.vd*e;b=this.aa.j;c=this.ba.j;var f=this.t;e=this.Ma;a=this.Ga*this.Ya;b=this.Ma-((b.x-c.x)*f.x+(b.y-c.y)*f.y+this.aa.X*this.rb-this.ba.X*this.sb)*this.qd;c=-a;this.Ma=b<c?c:b>a?a:b;e=this.Ma-e;a=this.aa.j;b=this.Nd;a.x+=b.x*e;a.y+=b.y*e;a=this.ba.j;b=this.Od;a.x-=b.x*e;a.y-=b.y*e;this.aa.X+=this.Kd*e;this.ba.X-=this.Ld*e};Xd.prototype.jg=function(){var a=
this.aa.j,b=this.ba.j,c=this.n,e=this.Ga;a=this.Ga+(this.target-((a.x-b.x)*c.x+(a.y-b.y)*c.y+this.aa.X*this.pb-this.ba.X*this.qb))*this.pd;this.Ga=0<a?a:0;e=this.Ga-e;a=this.aa.j;b=this.xd;a.x+=b.x*e;a.y+=b.y*e;a=this.ba.j;b=this.yd;a.x-=b.x*e;a.y-=b.y*e;this.aa.X+=this.ud*e;this.ba.X-=this.vd*e;b=this.aa.j;c=this.ba.j;var f=this.t;e=this.Ma;a=this.Ga*this.Ya;0==this.ed?(b=this.Ma-((b.x-c.x)*f.x+(b.y-c.y)*f.y+this.aa.X*this.rb-this.ba.X*this.sb)*this.qd,c=-a,this.Ma=b<c?c:b>a?a:b):this.Ma=a*this.ed;
e=this.Ma-e;a=this.aa.j;b=this.Nd;a.x+=b.x*e;a.y+=b.y*e;a=this.ba.j;b=this.Od;a.x-=b.x*e;a.y-=b.y*e;this.aa.X+=this.Kd*e;this.ba.X-=this.Ld*e};Xd.A=!0;pf.prototype.clear=function(){this.Ca=0};pf.prototype.add=function(){return this.Ia[this.Ca++]};pf.prototype.Qb=function(){1<=this.Ca&&(this.Ia[0].Qb(),2<=this.Ca&&this.Ia[1].Qb())};pf.A=!0;of.prototype.set=function(a,b,c,e){var f=this.da;f.x=a.x;f.y=a.y;a=this.ea;a.x=b.x;a.y=b.y;b=this.n;b.x=c.x;b.y=c.y;this.depth=e};of.prototype.Qb=function(){var a=
this.da,b=a.x;a=a.y;var c=this.da,e=this.ea;c.x=e.x;c.y=e.y;c=this.ea;c.x=b;c.y=a;a=b=this.n;b.x=-a.x;b.y=-a.y};of.A=!0;var Cf=Uc["phys.ShapeType"]={Qa:!0,ia:null,Xd:(l=function(a){return{l:0,c:a,o:"phys.ShapeType",toString:y}},l.s="Circle",l.K=["c"],l),Vd:(l=function(a){return{l:1,b:a,o:"phys.ShapeType",toString:y}},l.s="Box",l.K=["b"],l)};Cf.ia=[Cf.Xd,Cf.Vd];Nd.prototype.step=function(a){null==a&&(a=!1);a?this.ng():this.og();if(this.Id){a=[];this.frames.push(a);for(var b=0,c=this.ha;b<c.length;){var e=
c[b];++b;a.push(e.p.x);a.push(e.p.y);a.push(e.Ea);a.push(e.j.x);a.push(e.j.y);a.push(e.X)}}};Nd.prototype.mg=function(){this.frames.length=0;this.Id=!0};Nd.prototype.pg=function(){this.Ra.length=0;this.Id=!1};Nd.prototype.Be=function(){var a=!0;null==a&&(a=!1);if(0!=this.frames.length){a&&(this.eb=(this.eb+this.frames.length-1)%this.frames.length);for(var b=this.frames[this.eb],c=0,e=0,f=this.ha;e<f.length;){var d=f[e];++e;d.p.x=b[c++];d.p.y=b[c++];d.Ea=b[c++];d.j.x=b[c++];d.j.y=b[c++];d.X=b[c++];
d.sync()}a||(this.eb=(this.eb+1)%this.frames.length)}};Nd.prototype.og=function(){this.de();for(var a=0,b=this.ha;a<b.length;){var c=b[a];++a;if(0<c.pa){c=c.j;var e=this.D;c.x+=e.x;c.y+=e.y}}a=0;for(b=this.Ra;a<b.length;)b[a++].eg();a=0;for(b=this.qe;a<b;)for(++a,c=0,e=this.Ra;c<e.length;)e[c++].kg();a=0;for(b=this.ha;a<b.length;){c=b[a];++a;e=c.p;var f=c.j;e.x+=f.x;e.y+=f.y;c.Ea+=c.X;c.sync()}};Nd.prototype.ng=function(){this.de();for(var a=0,b=this.ha;a<b.length;){var c=b[a];++a;var e=c.j,f=c.j;
e.x=-f.x;e.y=-f.y;c.X=-c.X}a=0;for(b=this.Ra;a<b.length;)b[a++].dg();a=0;for(b=this.ha;a<b.length;)c=b[a],++a,0<c.pa&&(c=c.j,e=this.D,c.x+=e.x,c.y+=e.y);a=0;for(b=this.qe;a<b;)for(++a,c=0,e=this.Ra;c<e.length;)e[c++].jg();a=0;for(b=this.ha;a<b.length;)c=b[a],++a,e=c.p,f=c.j,e.x+=f.x,e.y+=f.y,c.Ea+=c.X,c.sync(),f=e=c.j,e.x=-f.x,e.y=-f.y,c.X=-c.X};Nd.prototype.de=function(){this.Ra.length=0;for(var a=this.ha.length,b=new pf,c=0;c<a;)for(var e=c++,f=e+1;f<a;){b.clear();var d=this.ha[e],g=this.ha[f++];
if((0!=d.pa||0!=g.pa)&&d.shape.lc.Zf(g.shape.lc)){var h=d.shape.type,k=g.shape.type;switch(h.l){case 0:h=h.c;switch(k.l){case 0:Bg.Bb(h,k.c,b);break;case 1:If.Bb(h,k.b,b)}break;case 1:switch(h=h.b,k.l){case 0:If.Bb(k.c,h,b);b.Qb();break;case 1:N.Bb(h,k.b,b)}}if(1<=b.Ca){k=this.tc[this.Ra.length];h=b.Ia[0];k.aa=d;k.ba=g;var n=k.da,m=h.da;n.x=m.x;n.y=m.y;n=k.ea;m=h.ea;n.x=m.x;n.y=m.y;n=k.nd;m=d.Y;var r=k.da,u=m.O*r.x+m.R*r.y;n.x=m.N*r.x+m.P*r.y;n.y=u;n=k.od;m=g.Y;r=k.ea;u=m.O*r.x+m.R*r.y;n.x=m.N*r.x+
m.P*r.y;n.y=u;n=k.Fd;m=d.p;r=k.da;n.x=m.x+r.x;n.y=m.y+r.y;n=k.Gd;m=g.p;r=k.ea;n.x=m.x+r.x;n.y=m.y+r.y;n=k.n;m=h.n;n.x=m.x;n.y=m.y;n=k.t;m=k.n;r=m.x;n.x=-m.y;n.y=r;k.depth=h.depth;this.Ra.push(k);2<=b.Ca&&(k=this.tc[this.Ra.length],h=b.Ia[1],k.aa=d,k.ba=g,n=k.da,m=h.da,n.x=m.x,n.y=m.y,n=k.ea,m=h.ea,n.x=m.x,n.y=m.y,n=k.nd,m=d.Y,r=k.da,u=m.O*r.x+m.R*r.y,n.x=m.N*r.x+m.P*r.y,n.y=u,n=k.od,m=g.Y,r=k.ea,u=m.O*r.x+m.R*r.y,n.x=m.N*r.x+m.P*r.y,n.y=u,n=k.Fd,d=d.p,m=k.da,n.x=d.x+m.x,n.y=d.y+m.y,d=k.Gd,g=g.p,n=
k.ea,d.x=g.x+n.x,d.y=g.y+n.y,g=k.n,d=h.n,g.x=d.x,g.y=d.y,g=k.t,d=k.n,n=d.x,g.x=-d.y,g.y=n,k.depth=h.depth,this.Ra.push(k))}}}};Nd.A=!0;var nf=Uc["pot.core.FrameRate"]={Qa:!0,ia:null,Pe:{s:"Auto",l:0,o:"pot.core.FrameRate",toString:y},Kc:(l=function(a){return{l:1,Rf:a,o:"pot.core.FrameRate",toString:y}},l.s="Fixed",l.K=["fps"],l)};nf.ia=[nf.Pe,nf.Kc];hd.prototype.start=function(){this.Ac||(this.Zb=window.performance.now()-this.lb,this.Pb=this.lb,this.Ac=!0,window.setTimeout(mf(this,this.loop),0))};
hd.prototype.stop=function(){this.Ac&&(this.Ac=!1)};hd.prototype.Ee=function(a){this.lb=1E3/a};hd.prototype.loop=function(){if(this.Ac){this.count++;if(this.cd){if(hd.qc)try{this.update(1)}catch(g){var a=gb.rc(g);window.alert(Tc.Va(a))}else this.update(1);a=this.La;if(hd.qc)try{a()}catch(g){a=gb.rc(g),window.alert(Tc.Va(a))}else a()}else{var b=window.performance.now();a=this.$f+4*this.lb;var c=b+4;a=a>c?a:c;!this.Sf||10>this.count?c=1:(c=Math.round((a-b)/this.Pb),c=1>c?1:c);var e=.01*this.lb,f=this.lb-
this.Pb;e=Math.round((b-this.Zb)/(e>f?e:f));c=e<c?e:c;if(0<c){e=!1;for(f=0;f<c;){var d=f++;if(hd.qc)try{this.update(e?1:(d+1)/c)}catch(g){d=gb.rc(g),window.alert(Tc.Va(d))}else this.update(e?1:(d+1)/c);d=window.performance.now();this.Pb+=.5*(d-b-this.Pb);b=d;this.Zb+=this.lb;if(e)break;d>a&&(e=!0)}a=this.Zb;c=4*this.lb;c=b-(4<c?c:4);this.Zb=a>c?a:c;this.$f=b;a=this.La;if(hd.qc)try{a()}catch(g){a=gb.rc(g),window.alert(Tc.Va(a))}else a()}}window.requestAnimationFrame(mf(this,this.loop))}};hd.A=!0;Md.prototype.frameRate=
function(a){switch(a.l){case 0:this.Eb.Ee(60);this.Eb.cd=!0;break;case 1:this.Eb.Ee(a.Rf),this.Eb.cd=!1}};Md.prototype.Cf=function(){var a=this;this.Ae=new ResizeObserver(function(){a.resize()&&a.ob.Jd()});this.Ae.observe(this.canvas);this.Ae.observe(window.document.documentElement);this.ob.Jd()};Md.prototype.resize=function(){var a=this.canvas.clientWidth,b=this.canvas.clientHeight,c=window.devicePixelRatio;return this.width!=a||this.height!=b||this.za!=c?(this.width=a,this.height=b,this.za=c,this.canvas.width=
this.width*this.za+.5|0,this.canvas.height=this.height*this.za+.5|0,!0):!1};Md.prototype.start=function(){this.Eb.start()};Md.prototype.stop=function(){this.Eb.stop()};Md.prototype.update=function(a){this.ob.eb++;null!=this.ob.input&&this.ob.input.update(a);this.ob.update()};Md.prototype.La=function(){this.ob.La()};Md.A=!0;var Ld=Uc["pot.graphics.gl.Attribute"]={Qa:!0,ia:null,ae:(l=function(a){return{l:0,location:a,o:"pot.graphics.gl.Attribute",toString:y}},l.s="Position",l.K=["location"],l),Yd:(l=
function(a){return{l:1,location:a,o:"pot.graphics.gl.Attribute",toString:y}},l.s="Color",l.K=["location"],l),$d:(l=function(a){return{l:2,location:a,o:"pot.graphics.gl.Attribute",toString:y}},l.s="Normal",l.K=["location"],l),be:(l=function(a){return{l:3,location:a,o:"pot.graphics.gl.Attribute",toString:y}},l.s="TexCoord",l.K=["location"],l),We:(l=function(a,b,c){return{l:4,buffer:a,location:b,bd:c,o:"pot.graphics.gl.Attribute",toString:y}},l.s="Custom",l.K=["buffer","location","divisor"],l)};Ld.ia=
[Ld.ae,Ld.Yd,Ld.$d,Ld.be,Ld.We];Be.prototype.expand=function(){var a=this.data;this.data=new Float32Array(this.maxLength<<=1);this.data.set(a)};Be.A=!0;I.prototype.Z=function(a){this.h=a};I.A=!0;lh(Ff,I);Ff.prototype.ne=function(){this.width=this.wb[0].width;this.height=this.wb[0].height;for(var a=this.wb[0].type,b=0,c=this.wb;b<c.length;){var e=c[b];++b;if(e.type!=a)throw gb.Pa("all textures must have the same type");if(e.width!=this.width||e.height!=this.height)throw gb.Pa("all texture sizes must be the same");
}this.h.bindRenderbuffer(36161,this.depth);this.h.renderbufferStorage(36161,36012,this.width,this.height);this.h.bindRenderbuffer(36161,null);this.h.bindFramebuffer(36160,this.ke);this.h.framebufferRenderbuffer(36160,36096,36161,this.depth);a=this.wb;for(b=0;b<a.length;)c=a[b++],this.h.framebufferTexture2D(36160,36064+(b-1),3553,c.Aa,0);this.h.bindFramebuffer(36160,null)};Ff.A=!0;ba.prototype.Wf=function(){this.h.getExtension("OES_texture_float_linear");this.h.getExtension("OES_texture_half_float_linear");
this.h.getExtension("EXT_color_buffer_float");this.h.enable(3089);this.h.disable(2929);this.h.enable(3042);this.h.frontFace(2305);this.h.cullFace(1029);this.h.disable(2884);this.h.blendFuncSeparate(770,771,1,1);this.h.pixelStorei(37440,!0)};ba.prototype.Vf=function(){this.h.enable(2929);this.h.frontFace(2305);this.h.cullFace(1029);this.h.enable(2884);this.pc=!1;this.ig();this.cb=null};ba.prototype.Kf=function(){return new lf(this.h,[Ld.ae(),Ld.Yd(),Ld.$d(),Ld.be()])};ba.prototype.Xf=function(){this.fe=
new Jc(this.h);this.fe.compile(lc.dc,lc.Sb);this.ge=new Jc(this.h);this.ge.compile(bc.dc,bc.Sb);this.Zc=null};ba.prototype.If=function(){return null!=this.Zc?this.Zc:null!=this.cb?this.ge:this.fe};ba.prototype.screen=function(a,b){this.Ib=a;this.ub=b;a=this.tb;b=this.Ab;var c=this.zb,e=1/Math.tan(.5*this.Nb());a.N=e/(this.Ib/this.ub);a.O=0;a.na=0;a.qa=0;a.P=0;a.R=e;a.oa=0;a.ra=0;a.ja=0;a.ka=0;a.la=-(c+b)/(c-b);a.sa=-2*b*c/(c-b);a.ta=0;a.ua=0;a.va=-1;a.wa=0};ba.prototype.viewport=function(a,b,c,e){if(0!=
this.ma)throw Error("cannot change viewport inside a scene");this.Td=!0;this.Le=a;this.Me=b;this.Ke=c;this.Ic=e};ba.prototype.ig=function(){if(0!=this.ma)throw Error("cannot change viewport inside a scene");this.Td=!1};ba.prototype.rg=function(){if(null==this.Db){var a=this.canvas.width;var b=this.canvas.height}else a=this.Db.width,b=this.Db.height;this.Td?(this.h.viewport(this.Le,b-this.Ic-this.Me,this.Ke,this.Ic),this.h.scissor(this.Le,b-this.Ic-this.Me,this.Ke,this.Ic)):(this.h.viewport(0,0,a,
b),this.h.scissor(0,0,a,b))};ba.prototype.hg=function(){this.se=this.re=1;this.ve=0;this.ue=10;this.te=0};ba.prototype.Df=function(){if(0!=this.ma)throw Error("scene already begun");this.ma=!0;var a=this.rd;a.N=1;a.O=0;a.na=0;a.qa=0;a.P=0;a.R=1;a.oa=0;a.ra=0;a.ja=0;a.ka=0;a.la=1;a.sa=0;a.ta=0;a.ua=0;a.va=0;a.wa=1;this.ya=0;this.cb=null;a=this.i;a.J=1;a.I=1;a.H=1;a.G=1;a=this.i;a.u=0;a.v=0;a.C=0;a=this.i;a.F=0;a.j=0;this.hg();this.rg();if(!this.pc){a=this.$c;var b=.5*this.ub,c=-this.ub/(2*Math.tan(.5*
this.Nb()));a.x=.5*this.Ib;a.y=b;a.z=c;a=this.mb;var e=b=this.$c;c=b.x-e.x;e=b.y-e.y;var f=b.z-0,d=Math.sqrt(c*c+e*e+f*f);0<d&&(d=1/d);c*=d;e*=d;f*=d;d=-1*f- -0*e;var g=-0*c- -0*f,h=-0*e- -1*c,k=Math.sqrt(d*d+g*g+h*h);0<k&&(k=1/k);d*=k;g*=k;h*=k;k=e*h-f*g;var n=f*d-c*h,m=c*g-e*d;a.N=d;a.O=g;a.na=h;a.qa=-(d*b.x+g*b.y+h*b.z);a.P=k;a.R=n;a.oa=m;a.ra=-(k*b.x+n*b.y+m*b.z);a.ja=c;a.ka=e;a.la=f;a.sa=-(c*b.x+e*b.y+f*b.z);a.ta=0;a.ua=0;a.va=0;a.wa=1}};ba.prototype.Qf=function(){if(1!=this.ma)throw Error("scene already ended");
this.ma=!1;this.h.flush()};ba.prototype.Jf=function(a,b,c){if(1!=this.ma)throw Error("begin scene before clear scene");if(null!=this.Db&&(5124==this.Db.wb[0].type||5125==this.Db.wb[0].type))throw gb.Pa("current render target is integer texture(s); use clearInt or clearUInt");this.h.clearColor(a,b,c,1);this.h.clearDepth(1);this.h.clear(16640)};ba.prototype.createShader=function(a,b,c){var e=new Jc(this.h);e.compile(a,b,c);return e};ba.prototype.Jb=function(a){this.Zc=a};ba.prototype.createTexture=
function(a,b,c){null==c&&(c=5121);var e=new sd(this.h);e.jd(a,b,c);return e};ba.prototype.perspective=function(a,b,c,e){null==e&&(e=1E4);null==c&&(c=.1);null==b&&(b=1);null==a&&(a=Math.PI/3);this.oc=a;this.Wc=b;this.Ab=c;this.zb=e;a=this.tb;b=this.Ab;c=this.zb;e=1/Math.tan(.5*this.Nb());a.N=e/(this.Ib/this.ub);a.O=0;a.na=0;a.qa=0;a.P=0;a.R=e;a.oa=0;a.ra=0;a.ja=0;a.ka=0;a.la=-(c+b)/(c-b);a.sa=-2*b*c/(c-b);a.ta=0;a.ua=0;a.va=-1;a.wa=0};ba.prototype.Nb=function(){var a=this.Ib/this.ub;switch(this.Wc){case 0:var b=
!0;break;case 1:b=!1;break;case 2:b=1>a;break;case 3:b=1<a}return b?2*Math.atan(Math.tan(.5*this.oc)/a):this.oc};ba.prototype.image=function(a,b,c,e,f,d,g,h,k){var n=this.cb;this.cb=a;var m=1/a.width;a=1/a.height;b*=m;c*=a;e*=m;f*=a;this.nc(5);m=this.i;m.u=0;m.v=0;m.C=-1;m=this.i;m.F=b;m.j=1-c;if(1!=this.M)throw Error("begin shape before vertex");m=this.i;a=m.U;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=d;a.data[a.length++]=g;a.data[a.length++]=0;a.g=!0;a=m.S;var r=m.J,u=m.I,q=m.H,p=m.G;
a.length+4>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.data[a.length++]=p;a.g=!0;a=m.T;r=m.u;u=m.v;q=m.C;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.g=!0;a=m.V;r=m.F;u=m.j;a.length+2>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.g=!0;a=m.L;r=m.m;a.length+1>a.maxLength&&a.expand();a.data[a.length++]=r;a.g=!0;m.m++;m=this.i;m.F=b;m.j=1-c-f;if(1!=this.M)throw Error("begin shape before vertex");
m=this.i;a=m.U;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=d;a.data[a.length++]=g+k;a.data[a.length++]=0;a.g=!0;a=m.S;r=m.J;u=m.I;q=m.H;p=m.G;a.length+4>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.data[a.length++]=p;a.g=!0;a=m.T;r=m.u;u=m.v;q=m.C;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.g=!0;a=m.V;r=m.F;u=m.j;a.length+2>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;
a.g=!0;a=m.L;r=m.m;a.length+1>a.maxLength&&a.expand();a.data[a.length++]=r;a.g=!0;m.m++;m=this.i;m.F=b+e;m.j=1-c;if(1!=this.M)throw Error("begin shape before vertex");m=this.i;a=m.U;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=d+h;a.data[a.length++]=g;a.data[a.length++]=0;a.g=!0;a=m.S;r=m.J;u=m.I;q=m.H;p=m.G;a.length+4>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.data[a.length++]=p;a.g=!0;a=m.T;r=m.u;u=m.v;q=m.C;a.length+3>a.maxLength&&a.expand();
a.data[a.length++]=r;a.data[a.length++]=u;a.data[a.length++]=q;a.g=!0;a=m.V;r=m.F;u=m.j;a.length+2>a.maxLength&&a.expand();a.data[a.length++]=r;a.data[a.length++]=u;a.g=!0;a=m.L;r=m.m;a.length+1>a.maxLength&&a.expand();a.data[a.length++]=r;a.g=!0;m.m++;m=this.i;m.F=b+e;m.j=1-c-f;if(1!=this.M)throw Error("begin shape before vertex");b=this.i;c=b.U;c.length+3>c.maxLength&&c.expand();c.data[c.length++]=d+h;c.data[c.length++]=g+k;c.data[c.length++]=0;c.g=!0;d=b.S;g=b.J;h=b.I;k=b.H;c=b.G;d.length+4>d.maxLength&&
d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.data[d.length++]=c;d.g=!0;d=b.T;g=b.u;h=b.v;k=b.C;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.g=!0;d=b.V;g=b.F;h=b.j;d.length+2>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.g=!0;d=b.L;g=b.m;d.length+1>d.maxLength&&d.expand();d.data[d.length++]=g;d.g=!0;b.m++;this.wc();this.cb=n};ba.prototype.rect=function(a,b,c,e){this.nc(5);var f=this.i;f.u=0;
f.v=0;f.C=-1;f=this.i;f.F=0;f.j=1;if(1!=this.M)throw Error("begin shape before vertex");f=this.i;var d=f.U;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=a;d.data[d.length++]=b;d.data[d.length++]=0;d.g=!0;d=f.S;var g=f.J,h=f.I,k=f.H,n=f.G;d.length+4>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.data[d.length++]=n;d.g=!0;d=f.T;g=f.u;h=f.v;k=f.C;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.g=!0;
d=f.V;g=f.F;h=f.j;d.length+2>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.g=!0;d=f.L;g=f.m;d.length+1>d.maxLength&&d.expand();d.data[d.length++]=g;d.g=!0;f.m++;f=this.i;f.F=0;f.j=0;if(1!=this.M)throw Error("begin shape before vertex");f=this.i;d=f.U;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=a;d.data[d.length++]=b+e;d.data[d.length++]=0;d.g=!0;d=f.S;g=f.J;h=f.I;k=f.H;n=f.G;d.length+4>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=
k;d.data[d.length++]=n;d.g=!0;d=f.T;g=f.u;h=f.v;k=f.C;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.g=!0;d=f.V;g=f.F;h=f.j;d.length+2>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.g=!0;d=f.L;g=f.m;d.length+1>d.maxLength&&d.expand();d.data[d.length++]=g;d.g=!0;f.m++;f=this.i;f.F=1;f.j=1;if(1!=this.M)throw Error("begin shape before vertex");f=this.i;d=f.U;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=a+c;d.data[d.length++]=
b;d.data[d.length++]=0;d.g=!0;d=f.S;g=f.J;h=f.I;k=f.H;n=f.G;d.length+4>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.data[d.length++]=n;d.g=!0;d=f.T;g=f.u;h=f.v;k=f.C;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.data[d.length++]=k;d.g=!0;d=f.V;g=f.F;h=f.j;d.length+2>d.maxLength&&d.expand();d.data[d.length++]=g;d.data[d.length++]=h;d.g=!0;d=f.L;g=f.m;d.length+1>d.maxLength&&d.expand();d.data[d.length++]=g;d.g=!0;f.m++;f=this.i;
f.F=1;f.j=0;if(1!=this.M)throw Error("begin shape before vertex");f=this.i;d=f.U;d.length+3>d.maxLength&&d.expand();d.data[d.length++]=a+c;d.data[d.length++]=b+e;d.data[d.length++]=0;d.g=!0;a=f.S;b=f.J;c=f.I;e=f.H;d=f.G;a.length+4>a.maxLength&&a.expand();a.data[a.length++]=b;a.data[a.length++]=c;a.data[a.length++]=e;a.data[a.length++]=d;a.g=!0;a=f.T;b=f.u;c=f.v;e=f.C;a.length+3>a.maxLength&&a.expand();a.data[a.length++]=b;a.data[a.length++]=c;a.data[a.length++]=e;a.g=!0;a=f.V;b=f.F;c=f.j;a.length+
2>a.maxLength&&a.expand();a.data[a.length++]=b;a.data[a.length++]=c;a.g=!0;a=f.L;b=f.m;a.length+1>a.maxLength&&a.expand();a.data[a.length++]=b;a.g=!0;f.m++;this.wc()};ba.prototype.lg=function(){this.Hc.length=0;this.Hc.push(new Ia(0,1,0));for(var a=1;15>a;)for(var b=a++/16*Math.PI,c=0;32>c;){var e=c++/32*Math.PI*2;this.Hc.push(new Ia(Math.sin(b)*Math.cos(e),Math.cos(b),-Math.sin(b)*Math.sin(e)))}this.Hc.push(new Ia(0,-1,0));for(a=this.bc.length=0;32>a;)b=a++,this.bc.push([0,b+1,(b+1)%32+1]),this.bc.push([449,
449-(b+1),449-((b+1)%32+1)]);for(a=1;14>a;)for(b=1+32*(a++-1),c=b+32,e=0;32>e;){var f=e++,d=b+f,g=c+(f+1)%32;this.bc.push([d,c+f,g]);this.bc.push([d,g,b+(f+1)%32])}};ba.prototype.box=function(a,b,c){this.nc(4);a*=.5;b*=.5;c*=.5;var e=-a,f=-b,d=-c;if(null!=this.cb){var g=this.i;g.u=-1;g.v=0;g.C=0;this.yb(e,f,d,e,f,c,e,b,c,e,b,d);g=this.i;g.u=1;g.v=0;g.C=0;this.yb(a,f,d,a,b,d,a,b,c,a,f,c);g=this.i;g.u=0;g.v=-1;g.C=0;this.yb(e,f,d,a,f,d,a,f,c,e,f,c);g=this.i;g.u=0;g.v=1;g.C=0;this.yb(e,b,d,e,b,c,a,b,
c,a,b,d);g=this.i;g.u=0;g.v=0;g.C=-1;this.yb(e,f,d,e,b,d,a,b,d,a,f,d);d=this.i;d.u=0;d.v=0;d.C=1;this.yb(e,f,c,a,f,c,a,b,c,e,b,c)}else g=this.i,g.u=-1,g.v=0,g.C=0,this.xb(e,f,d,e,f,c,e,b,c,e,b,d),g=this.i,g.u=1,g.v=0,g.C=0,this.xb(a,f,d,a,b,d,a,b,c,a,f,c),g=this.i,g.u=0,g.v=-1,g.C=0,this.xb(e,f,d,a,f,d,a,f,c,e,f,c),g=this.i,g.u=0,g.v=1,g.C=0,this.xb(e,b,d,e,b,c,a,b,c,a,b,d),g=this.i,g.u=0,g.v=0,g.C=-1,this.xb(e,f,d,e,b,d,a,b,d,a,f,d),d=this.i,d.u=0,d.v=0,d.C=1,this.xb(e,f,c,a,f,c,a,b,c,e,b,c);this.wc()};
ba.prototype.xb=function(a,b,c,e,f,d,g,h,k,n,m,r){var u=c;null==c&&(u=0);if(1!=this.M)throw Error("begin shape before vertex");var q=this.i,p=q.U;p.length+3>p.maxLength&&p.expand();p.data[p.length++]=a;p.data[p.length++]=b;p.data[p.length++]=u;p.g=!0;var z=q.S,Ba=q.J,Qb=q.I,$b=q.H,ac=q.G;z.length+4>z.maxLength&&z.expand();z.data[z.length++]=Ba;z.data[z.length++]=Qb;z.data[z.length++]=$b;z.data[z.length++]=ac;z.g=!0;var x=q.T,Ya=q.u,Qa=q.v,va=q.C;x.length+3>x.maxLength&&x.expand();x.data[x.length++]=
Ya;x.data[x.length++]=Qa;x.data[x.length++]=va;x.g=!0;var ca=q.V,da=q.F,Fa=q.j;ca.length+2>ca.maxLength&&ca.expand();ca.data[ca.length++]=da;ca.data[ca.length++]=Fa;ca.g=!0;var jb=q.L,hb=q.m;jb.length+1>jb.maxLength&&jb.expand();jb.data[jb.length++]=hb;jb.g=!0;q.m++;var Ab=d;null==d&&(Ab=0);if(1!=this.M)throw Error("begin shape before vertex");var la=this.i,Ra=la.U;Ra.length+3>Ra.maxLength&&Ra.expand();Ra.data[Ra.length++]=e;Ra.data[Ra.length++]=f;Ra.data[Ra.length++]=Ab;Ra.g=!0;var Q=la.S,cb=la.J,
Ja=la.I,T=la.H,qa=la.G;Q.length+4>Q.maxLength&&Q.expand();Q.data[Q.length++]=cb;Q.data[Q.length++]=Ja;Q.data[Q.length++]=T;Q.data[Q.length++]=qa;Q.g=!0;var K=la.T,ib=la.u,wa=la.v,kb=la.C;K.length+3>K.maxLength&&K.expand();K.data[K.length++]=ib;K.data[K.length++]=wa;K.data[K.length++]=kb;K.g=!0;var xa=la.V,ya=la.F,Ga=la.j;xa.length+2>xa.maxLength&&xa.expand();xa.data[xa.length++]=ya;xa.data[xa.length++]=Ga;xa.g=!0;var La=la.L,lb=la.m;La.length+1>La.maxLength&&La.expand();La.data[La.length++]=lb;La.g=
!0;la.m++;var ha=k;null==k&&(ha=0);if(1!=this.M)throw Error("begin shape before vertex");var U=this.i,ra=U.U;ra.length+3>ra.maxLength&&ra.expand();ra.data[ra.length++]=g;ra.data[ra.length++]=h;ra.data[ra.length++]=ha;ra.g=!0;var V=U.S,W=U.J,Za=U.I,Sa=U.H,pc=U.G;V.length+4>V.maxLength&&V.expand();V.data[V.length++]=W;V.data[V.length++]=Za;V.data[V.length++]=Sa;V.data[V.length++]=pc;V.g=!0;var Ta=U.T,Ca=U.u,db=U.v,ia=U.C;Ta.length+3>Ta.maxLength&&Ta.expand();Ta.data[Ta.length++]=Ca;Ta.data[Ta.length++]=
db;Ta.data[Ta.length++]=ia;Ta.g=!0;var mb=U.V,qc=U.F,rc=U.j;mb.length+2>mb.maxLength&&mb.expand();mb.data[mb.length++]=qc;mb.data[mb.length++]=rc;mb.g=!0;var Ma=U.L,$a=U.m;Ma.length+1>Ma.maxLength&&Ma.expand();Ma.data[Ma.length++]=$a;Ma.g=!0;U.m++;var Bc=c;null==c&&(Bc=0);if(1!=this.M)throw Error("begin shape before vertex");var ma=this.i,nb=ma.U;nb.length+3>nb.maxLength&&nb.expand();nb.data[nb.length++]=a;nb.data[nb.length++]=b;nb.data[nb.length++]=Bc;nb.g=!0;var sa=ma.S,O=ma.J,Da=ma.I,R=ma.H,Ua=
ma.G;sa.length+4>sa.maxLength&&sa.expand();sa.data[sa.length++]=O;sa.data[sa.length++]=Da;sa.data[sa.length++]=R;sa.data[sa.length++]=Ua;sa.g=!0;var Ea=ma.T,Bb=ma.u,Kb=ma.v,ob=ma.C;Ea.length+3>Ea.maxLength&&Ea.expand();Ea.data[Ea.length++]=Bb;Ea.data[Ea.length++]=Kb;Ea.data[Ea.length++]=ob;Ea.g=!0;var J=ma.V,pb=ma.F,S=ma.j;J.length+2>J.maxLength&&J.expand();J.data[J.length++]=pb;J.data[J.length++]=S;J.g=!0;var ta=ma.L,ka=ma.m;ta.length+1>ta.maxLength&&ta.expand();ta.data[ta.length++]=ka;ta.g=!0;ma.m++;
var Ka=k;null==k&&(Ka=0);if(1!=this.M)throw Error("begin shape before vertex");var L=this.i,P=L.U;P.length+3>P.maxLength&&P.expand();P.data[P.length++]=g;P.data[P.length++]=h;P.data[P.length++]=Ka;P.g=!0;var Ha=L.S,Va=L.J,ab=L.I,H=L.H,Na=L.G;Ha.length+4>Ha.maxLength&&Ha.expand();Ha.data[Ha.length++]=Va;Ha.data[Ha.length++]=ab;Ha.data[Ha.length++]=H;Ha.data[Ha.length++]=Na;Ha.g=!0;var X=L.T,qb=L.u,Wb=L.v,Lb=L.C;X.length+3>X.maxLength&&X.expand();X.data[X.length++]=qb;X.data[X.length++]=Wb;X.data[X.length++]=
Lb;X.g=!0;var bb=L.V,Wa=L.F,Cb=L.j;bb.length+2>bb.maxLength&&bb.expand();bb.data[bb.length++]=Wa;bb.data[bb.length++]=Cb;bb.g=!0;var Y=L.L,ua=L.m;Y.length+1>Y.maxLength&&Y.expand();Y.data[Y.length++]=ua;Y.g=!0;L.m++;var M=r;null==r&&(M=0);if(1!=this.M)throw Error("begin shape before vertex");var ea=this.i,eb=ea.U;eb.length+3>eb.maxLength&&eb.expand();eb.data[eb.length++]=n;eb.data[eb.length++]=m;eb.data[eb.length++]=M;eb.g=!0;var za=ea.S,cc=ea.J,Xa=ea.I,dc=ea.H,Aa=ea.G;za.length+4>za.maxLength&&za.expand();
za.data[za.length++]=cc;za.data[za.length++]=Xa;za.data[za.length++]=dc;za.data[za.length++]=Aa;za.g=!0;var na=ea.T,oa=ea.u,ec=ea.v,rb=ea.C;na.length+3>na.maxLength&&na.expand();na.data[na.length++]=oa;na.data[na.length++]=ec;na.data[na.length++]=rb;na.g=!0;var pa=ea.V,Db=ea.F,Oa=ea.j;pa.length+2>pa.maxLength&&pa.expand();pa.data[pa.length++]=Db;pa.data[pa.length++]=Oa;pa.g=!0;var Sb=ea.L,Mb=ea.m;Sb.length+1>Sb.maxLength&&Sb.expand();Sb.data[Sb.length++]=Mb;Sb.g=!0;ea.m++};ba.prototype.yb=function(a,
b,c,e,f,d,g,h,k,n,m,r){var u=this.i;u.F=0;u.j=0;var q=c;null==c&&(q=0);if(1!=this.M)throw Error("begin shape before vertex");var p=this.i,z=p.U;z.length+3>z.maxLength&&z.expand();z.data[z.length++]=a;z.data[z.length++]=b;z.data[z.length++]=q;z.g=!0;var Ba=p.S,Qb=p.J,$b=p.I,ac=p.H,x=p.G;Ba.length+4>Ba.maxLength&&Ba.expand();Ba.data[Ba.length++]=Qb;Ba.data[Ba.length++]=$b;Ba.data[Ba.length++]=ac;Ba.data[Ba.length++]=x;Ba.g=!0;var Ya=p.T,Qa=p.u,va=p.v,ca=p.C;Ya.length+3>Ya.maxLength&&Ya.expand();Ya.data[Ya.length++]=
Qa;Ya.data[Ya.length++]=va;Ya.data[Ya.length++]=ca;Ya.g=!0;var da=p.V,Fa=p.F,jb=p.j;da.length+2>da.maxLength&&da.expand();da.data[da.length++]=Fa;da.data[da.length++]=jb;da.g=!0;var hb=p.L,Ab=p.m;hb.length+1>hb.maxLength&&hb.expand();hb.data[hb.length++]=Ab;hb.g=!0;p.m++;var la=this.i;la.F=0;la.j=1;var Ra=d;null==d&&(Ra=0);if(1!=this.M)throw Error("begin shape before vertex");var Q=this.i,cb=Q.U;cb.length+3>cb.maxLength&&cb.expand();cb.data[cb.length++]=e;cb.data[cb.length++]=f;cb.data[cb.length++]=
Ra;cb.g=!0;var Ja=Q.S,T=Q.J,qa=Q.I,K=Q.H,ib=Q.G;Ja.length+4>Ja.maxLength&&Ja.expand();Ja.data[Ja.length++]=T;Ja.data[Ja.length++]=qa;Ja.data[Ja.length++]=K;Ja.data[Ja.length++]=ib;Ja.g=!0;var wa=Q.T,kb=Q.u,xa=Q.v,ya=Q.C;wa.length+3>wa.maxLength&&wa.expand();wa.data[wa.length++]=kb;wa.data[wa.length++]=xa;wa.data[wa.length++]=ya;wa.g=!0;var Ga=Q.V,La=Q.F,lb=Q.j;Ga.length+2>Ga.maxLength&&Ga.expand();Ga.data[Ga.length++]=La;Ga.data[Ga.length++]=lb;Ga.g=!0;var ha=Q.L,U=Q.m;ha.length+1>ha.maxLength&&ha.expand();
ha.data[ha.length++]=U;ha.g=!0;Q.m++;var ra=this.i;ra.F=1;ra.j=1;var V=k;null==k&&(V=0);if(1!=this.M)throw Error("begin shape before vertex");var W=this.i,Za=W.U;Za.length+3>Za.maxLength&&Za.expand();Za.data[Za.length++]=g;Za.data[Za.length++]=h;Za.data[Za.length++]=V;Za.g=!0;var Sa=W.S,pc=W.J,Ta=W.I,Ca=W.H,db=W.G;Sa.length+4>Sa.maxLength&&Sa.expand();Sa.data[Sa.length++]=pc;Sa.data[Sa.length++]=Ta;Sa.data[Sa.length++]=Ca;Sa.data[Sa.length++]=db;Sa.g=!0;var ia=W.T,mb=W.u,qc=W.v,rc=W.C;ia.length+3>
ia.maxLength&&ia.expand();ia.data[ia.length++]=mb;ia.data[ia.length++]=qc;ia.data[ia.length++]=rc;ia.g=!0;var Ma=W.V,$a=W.F,Bc=W.j;Ma.length+2>Ma.maxLength&&Ma.expand();Ma.data[Ma.length++]=$a;Ma.data[Ma.length++]=Bc;Ma.g=!0;var ma=W.L,nb=W.m;ma.length+1>ma.maxLength&&ma.expand();ma.data[ma.length++]=nb;ma.g=!0;W.m++;var sa=this.i;sa.F=0;sa.j=0;var O=c;null==c&&(O=0);if(1!=this.M)throw Error("begin shape before vertex");var Da=this.i,R=Da.U;R.length+3>R.maxLength&&R.expand();R.data[R.length++]=a;
R.data[R.length++]=b;R.data[R.length++]=O;R.g=!0;var Ua=Da.S,Ea=Da.J,Bb=Da.I,Kb=Da.H,ob=Da.G;Ua.length+4>Ua.maxLength&&Ua.expand();Ua.data[Ua.length++]=Ea;Ua.data[Ua.length++]=Bb;Ua.data[Ua.length++]=Kb;Ua.data[Ua.length++]=ob;Ua.g=!0;var J=Da.T,pb=Da.u,S=Da.v,ta=Da.C;J.length+3>J.maxLength&&J.expand();J.data[J.length++]=pb;J.data[J.length++]=S;J.data[J.length++]=ta;J.g=!0;var ka=Da.V,Ka=Da.F,L=Da.j;ka.length+2>ka.maxLength&&ka.expand();ka.data[ka.length++]=Ka;ka.data[ka.length++]=L;ka.g=!0;var P=
Da.L,Ha=Da.m;P.length+1>P.maxLength&&P.expand();P.data[P.length++]=Ha;P.g=!0;Da.m++;var Va=this.i;Va.F=1;Va.j=1;var ab=k;null==k&&(ab=0);if(1!=this.M)throw Error("begin shape before vertex");var H=this.i,Na=H.U;Na.length+3>Na.maxLength&&Na.expand();Na.data[Na.length++]=g;Na.data[Na.length++]=h;Na.data[Na.length++]=ab;Na.g=!0;var X=H.S,qb=H.J,Wb=H.I,Lb=H.H,bb=H.G;X.length+4>X.maxLength&&X.expand();X.data[X.length++]=qb;X.data[X.length++]=Wb;X.data[X.length++]=Lb;X.data[X.length++]=bb;X.g=!0;var Wa=
H.T,Cb=H.u,Y=H.v,ua=H.C;Wa.length+3>Wa.maxLength&&Wa.expand();Wa.data[Wa.length++]=Cb;Wa.data[Wa.length++]=Y;Wa.data[Wa.length++]=ua;Wa.g=!0;var M=H.V,ea=H.F,eb=H.j;M.length+2>M.maxLength&&M.expand();M.data[M.length++]=ea;M.data[M.length++]=eb;M.g=!0;var za=H.L,cc=H.m;za.length+1>za.maxLength&&za.expand();za.data[za.length++]=cc;za.g=!0;H.m++;var Xa=this.i;Xa.F=1;Xa.j=0;var dc=r;null==r&&(dc=0);if(1!=this.M)throw Error("begin shape before vertex");var Aa=this.i,na=Aa.U;na.length+3>na.maxLength&&na.expand();
na.data[na.length++]=n;na.data[na.length++]=m;na.data[na.length++]=dc;na.g=!0;var oa=Aa.S,ec=Aa.J,rb=Aa.I,pa=Aa.H,Db=Aa.G;oa.length+4>oa.maxLength&&oa.expand();oa.data[oa.length++]=ec;oa.data[oa.length++]=rb;oa.data[oa.length++]=pa;oa.data[oa.length++]=Db;oa.g=!0;var Oa=Aa.T,Sb=Aa.u,Mb=Aa.v,Pa=Aa.C;Oa.length+3>Oa.maxLength&&Oa.expand();Oa.data[Oa.length++]=Sb;Oa.data[Oa.length++]=Mb;Oa.data[Oa.length++]=Pa;Oa.g=!0;var Z=Aa.V,fc=Aa.F,gc=Aa.j;Z.length+2>Z.maxLength&&Z.expand();Z.data[Z.length++]=fc;
Z.data[Z.length++]=gc;Z.g=!0;var Xb=Aa.L,Lc=Aa.m;Xb.length+1>Xb.maxLength&&Xb.expand();Xb.data[Xb.length++]=Lc;Xb.g=!0;Aa.m++};ba.prototype.Gb=function(){if(1!=this.ma)throw Error("begin scene before setting lights");if(this.ya==this.Ba.length)throw Error("too many lights");var a=this.Ba[this.ya++],b=a.Mb;b.x=.2;b.y=.2;b.z=.2;b=a.Yb;b.x=0;b.y=0;b.z=0;b.w=0;a=a.Vb;a.x=0;a.y=0;a.z=0;var c=this.mb;a=-c.ja;b=-c.ka;c=-c.la;if(1!=this.ma)throw Error("begin scene before setting lights");if(this.ya==this.Ba.length)throw Error("too many lights");
var e=this.Ba[this.ya++],f=e.Mb;f.x=.8;f.y=.8;f.z=.8;f=e.Yb;f.x=0;f.y=0;f.z=0;f.w=0;e=e.Vb;f=Math.sqrt(a*a+b*b+c*c);0<f&&(f=1/f);e.x=a*f;e.y=b*f;e.z=c*f};ba.prototype.mc=function(a){if(1!=this.ma)throw Error("begin scene before setting materials");this.re=a};ba.prototype.uc=function(a){if(1!=this.ma)throw Error("begin scene before setting materials");this.se=a};ba.prototype.Cc=function(a){if(1!=this.ma)throw Error("begin scene before setting materials");this.ve=a};ba.prototype.Bc=function(a){if(1!=
this.ma)throw Error("begin scene before setting materials");this.ue=a};ba.prototype.vc=function(a){if(1!=this.ma)throw Error("begin scene before setting materials");this.te=a};ba.prototype.index=function(a){if(1!=this.M)throw Error("begin shape before index");var b=this.i.L;b.length+1>b.maxLength&&b.expand();b.data[b.length++]=a;b.g=!0};ba.prototype.nc=function(a){if(1!=this.ma)throw Error("begin scene before begin shape");if(0!=this.M)throw Error("shape already begun");this.M=!0;this.i.clear();this.fb.mode=
a};ba.prototype.wc=function(){if(1!=this.M)throw Error("shape already ended");this.M=!1;this.i.upload();this.fb.Ha.Jb=this.If();this.Pf(this.fb)};ba.prototype.fg=function(){var a=this.ad,b=this.mb,c=this.rd,e=b.N,f=b.O,d=b.na,g=b.qa,h=b.P,k=b.R,n=b.oa,m=b.ra,r=b.ja,u=b.ka,q=b.la,p=b.sa,z=b.ta,Ba=b.ua,Qb=b.va,$b=b.wa,ac=c.N,x=c.O,Ya=c.na,Qa=c.qa,va=c.P,ca=c.R,da=c.oa,Fa=c.ra,jb=c.ja,hb=c.ka,Ab=c.la,la=c.sa,Ra=c.ta,Q=c.ua,cb=c.va,Ja=c.wa,T=e*ac+f*va+d*jb+g*Ra,qa=e*x+f*ca+d*hb+g*Q,K=e*Ya+f*da+d*Ab+g*
cb,ib=e*Qa+f*Fa+d*la+g*Ja,wa=h*ac+k*va+n*jb+m*Ra,kb=h*x+k*ca+n*hb+m*Q,xa=h*Ya+k*da+n*Ab+m*cb,ya=h*Qa+k*Fa+n*la+m*Ja,Ga=r*ac+u*va+q*jb+p*Ra,La=r*x+u*ca+q*hb+p*Q,lb=r*Ya+u*da+q*Ab+p*cb,ha=r*Qa+u*Fa+q*la+p*Ja,U=z*ac+Ba*va+Qb*jb+$b*Ra,ra=z*x+Ba*ca+Qb*hb+$b*Q,V=z*Ya+Ba*da+Qb*Ab+$b*cb,W=z*Qa+Ba*Fa+Qb*la+$b*Ja,Za=T*kb-qa*wa,Sa=T*xa-K*wa,pc=T*ya-ib*wa,Ta=qa*xa-K*kb,Ca=qa*ya-ib*kb,db=K*ya-ib*xa,ia=Ga*ra-La*U,mb=Ga*V-lb*U,qc=Ga*W-ha*U,rc=La*V-lb*ra,Ma=La*W-ha*ra,$a=lb*W-ha*V,Bc=kb*$a-xa*Ma+ya*rc,ma=wa*$a-xa*
qc+ya*mb,nb=wa*Ma-kb*qc+ya*ia,sa=wa*rc-kb*mb+xa*ia,O=T*Bc-qa*ma+K*nb-ib*sa;0!=O&&(O=1/O);var Da=Bc*O,R=-(qa*$a-K*Ma+ib*rc)*O,Ua=(ra*db-V*Ca+W*Ta)*O,Ea=-ma*O,Bb=(T*$a-K*qc+ib*mb)*O,Kb=-(U*db-V*pc+W*Sa)*O,ob=nb*O,J=-(T*Ma-qa*qc+ib*ia)*O,pb=(U*Ca-ra*pc+W*Za)*O,S=lc.Gc,ta=this.rd;a.B[S.Ta.model.name]=G.W(4,4,[ta.N,ta.P,ta.ja,ta.ta,ta.O,ta.R,ta.ka,ta.ua,ta.na,ta.oa,ta.la,ta.va,ta.qa,ta.ra,ta.sa,ta.wa]);var ka=this.mb;a.B[S.Ta.view.name]=G.W(4,4,[ka.N,ka.P,ka.ja,ka.ta,ka.O,ka.R,ka.ka,ka.ua,ka.na,ka.oa,
ka.la,ka.va,ka.qa,ka.ra,ka.sa,ka.wa]);var Ka=this.tb;a.B[S.Ta.Hd.name]=G.W(4,4,[Ka.N,Ka.P,Ka.ja,Ka.ta,Ka.O,Ka.R,Ka.ka,Ka.ua,Ka.na,Ka.oa,Ka.la,Ka.va,Ka.qa,Ka.ra,Ka.sa,Ka.wa]);var L=this.tb,P=L.N,Ha=L.O,Va=L.na,ab=L.qa,H=L.P,Na=L.R,X=L.oa,qb=L.ra,Wb=L.ja,Lb=L.ka,bb=L.la,Wa=L.sa,Cb=L.ta,Y=L.ua,ua=L.va,M=L.wa,ea=P*Na-Ha*H,eb=P*X-Va*H,za=P*qb-ab*H,cc=Ha*X-Va*Na,Xa=Ha*qb-ab*Na,dc=Va*qb-ab*X,Aa=Wb*Y-Lb*Cb,na=Wb*ua-bb*Cb,oa=Wb*M-Wa*Cb,ec=Lb*ua-bb*Y,rb=Lb*M-Wa*Y,pa=bb*M-Wa*ua,Db=Na*pa-X*rb+qb*ec,Oa=H*pa-X*
oa+qb*na,Sb=H*rb-Na*oa+qb*Aa,Mb=H*ec-Na*na+X*Aa,Pa=P*Db-Ha*Oa+Va*Sb-ab*Mb;0!=Pa&&(Pa=1/Pa);a.B[S.Ta.md.name]=G.W(4,4,[Db*Pa,-Oa*Pa,Sb*Pa,-Mb*Pa,-(Ha*pa-Va*rb+ab*ec)*Pa,(P*pa-Va*oa+ab*na)*Pa,-(P*rb-Ha*oa+ab*Aa)*Pa,(P*ec-Ha*na+Va*Aa)*Pa,(Y*dc-ua*Xa+M*cc)*Pa,-(Cb*dc-ua*za+M*eb)*Pa,(Cb*Xa-Y*za+M*ea)*Pa,-(Cb*cc-Y*eb+ua*ea)*Pa,-(Lb*dc-bb*Xa+Wa*cc)*Pa,(Wb*dc-bb*za+Wa*eb)*Pa,-(Wb*Xa-Lb*za+Wa*ea)*Pa,(Wb*cc-Lb*eb+bb*ea)*Pa]);a.B[S.Ta.sd.name]=G.W(4,4,[T,wa,Ga,U,qa,kb,La,ra,K,xa,lb,V,ib,ya,ha,W]);var Z=this.tb,
fc=Z.N,gc=Z.O,Xb=Z.na,Lc=Z.qa,kd=Z.P,Mc=Z.R,Nc=Z.oa,fb=Z.ra,Oc=Z.ja,sc=Z.ka,Yb=Z.la,hc=Z.sa,tc=Z.ta,Od=Z.ua,Pd=Z.va,ld=Z.wa;a.B[S.Ta.transform.name]=G.W(4,4,[fc*T+gc*wa+Xb*Ga+Lc*U,kd*T+Mc*wa+Nc*Ga+fb*U,Oc*T+sc*wa+Yb*Ga+hc*U,tc*T+Od*wa+Pd*Ga+ld*U,fc*qa+gc*kb+Xb*La+Lc*ra,kd*qa+Mc*kb+Nc*La+fb*ra,Oc*qa+sc*kb+Yb*La+hc*ra,tc*qa+Od*kb+Pd*La+ld*ra,fc*K+gc*xa+Xb*lb+Lc*V,kd*K+Mc*xa+Nc*lb+fb*V,Oc*K+sc*xa+Yb*lb+hc*V,tc*K+Od*xa+Pd*lb+ld*V,fc*ib+gc*ya+Xb*ha+Lc*W,kd*ib+Mc*ya+Nc*ha+fb*W,Oc*ib+sc*ya+Yb*ha+hc*W,tc*
ib+Od*ya+Pd*ha+ld*W]);a.B[S.Ta.ld.name]=G.W(4,4,[Da,Ea,ob,-sa*O,R,Bb,J,(T*rc-qa*mb+K*ia)*O,Ua,Kb,pb,-(U*Ta-ra*Sa+V*Za)*O,-(La*db-lb*Ca+ha*Ta)*O,(Ga*db-lb*pc+ha*Sa)*O,-(Ga*Ca-La*pc+ha*Za)*O,(Ga*Ta-La*Sa+lb*Za)*O]);a.B[S.Ta.Na.name]=G.W(3,3,[Da,R,Ua,Ea,Bb,Kb,ob,J,pb]);a.B[S.Ha.Aa.name]=G.nb(this.cb);a.B[S.Ha.mc.name]=G.ca(this.re);a.B[S.Ha.uc.name]=G.ca(this.se);a.B[S.Ha.Cc.name]=G.ca(this.ve);a.B[S.Ha.Bc.name]=G.ca(this.ue);a.B[S.Ha.vc.name]=G.ca(this.te);a.B[S.ya.name]=G.Ka(this.ya);for(var wb=0,
Cc=this.ya;wb<Cc;){var xb=wb++,Eb=this.mb,Fb=this.Ba[xb].Yb;a.B[De.get(S.Gb,xb).position.name]=G.ce(Eb.N*Fb.x+Eb.O*Fb.y+Eb.na*Fb.z+Eb.qa*Fb.w,Eb.P*Fb.x+Eb.R*Fb.y+Eb.oa*Fb.z+Eb.ra*Fb.w,Eb.ja*Fb.x+Eb.ka*Fb.y+Eb.la*Fb.z+Eb.sa*Fb.w,Eb.ta*Fb.x+Eb.ua*Fb.y+Eb.va*Fb.z+Eb.wa*Fb.w);var Ic=this.mb,Nb=this.Ba[xb].Vb;a.B[De.get(S.Gb,xb).Na.name]=G.kc(Ic.N*Nb.x+Ic.O*Nb.y+Ic.na*Nb.z,Ic.P*Nb.x+Ic.R*Nb.y+Ic.oa*Nb.z,Ic.ja*Nb.x+Ic.ka*Nb.y+Ic.la*Nb.z);var sb=this.Ba[xb].Mb;a.B[De.get(S.Gb,xb).color.name]=G.kc(sb.x,sb.y,
sb.z)}};ba.prototype.Pf=function(a){this.fg();a.La(this.ad)};ba.A=!0;nh.A=!0;Ag.prototype.expand=function(){var a=this.data;this.data=new Int32Array(this.maxLength<<=1);this.data.set(a)};Ag.A=!0;mh.A=!0;lh(lf,I);lf.prototype.Z=function(a,b){this.Ha=new mh;this.mode=4;this.Lf=[];I.prototype.Z.call(this,a);var c=lc.attributes;this.position=new Ae({buffer:xe.ca(new gd(a,34962)),size:3,ac:0,offset:0},c.Qc.location);this.color=new Ae({buffer:xe.ca(new gd(a,34962)),size:4,ac:0,offset:0},c.Oc.location);
this.Na=new Ae({buffer:xe.ca(new gd(a,34962)),size:3,ac:0,offset:0},c.Pc.location);this.Md=new Ae({buffer:xe.ca(new gd(a,34962)),size:2,ac:0,offset:0},c.Rc.location);this.index=new zg(a);c=this.position.buffer.buffer;switch(c.l){case 0:throw gb.Pa("float buffer expected");case 1:var e=c.buffer}c=this.color.buffer.buffer;switch(c.l){case 0:throw gb.Pa("float buffer expected");case 1:var f=c.buffer}c=this.Na.buffer.buffer;switch(c.l){case 0:throw gb.Pa("float buffer expected");case 1:var d=c.buffer}c=
this.Md.buffer.buffer;switch(c.l){case 0:throw gb.Pa("float buffer expected");case 1:var g=c.buffer}this.sg=new Gf(e,f,d,g,this.index.buffer);e=Array(b.length);f=0;for(d=b.length;f<d;){g=f++;c=b[g];var h=void 0;switch(c.l){case 0:c=c.location;null!=c&&(this.position.location=c);h=this.position;break;case 1:c=c.location;null!=c&&(this.color.location=c);h=this.color;break;case 2:c=c.location;null!=c&&(this.Na.location=c);h=this.Na;break;case 3:c=c.location;null!=c&&(this.Md.location=c);h=this.Md;break;
case 4:h=c.bd,c=new Ae(c.buffer,c.location,null==h?0:h),this.Lf.push(c),h=c}e[g]=h}this.Xb=new kf(a,e,this.index)};lf.prototype.La=function(a){this.Ha.Jb.bind([a,this.Ha.qg]);this.Xb.mode=this.mode;this.Xb.La()};lf.A=!0;Gf.prototype.clear=function(){var a=this.U;a.length=0;a.g=!0;a=this.S;a.length=0;a.g=!0;a=this.T;a.length=0;a.g=!0;a=this.V;a.length=0;a.g=!0;a=this.L;a.length=0;a.g=!0;this.m=0};Gf.prototype.upload=function(){var a=this.U;a.g&&(a.g=!1,a.buffer.upload(new Float32Array(a.data.buffer,
0,a.length),a.usage));a=this.S;a.g&&(a.g=!1,a.buffer.upload(new Float32Array(a.data.buffer,0,a.length),a.usage));a=this.T;a.g&&(a.g=!1,a.buffer.upload(new Float32Array(a.data.buffer,0,a.length),a.usage));a=this.V;a.g&&(a.g=!1,a.buffer.upload(new Float32Array(a.data.buffer,0,a.length),a.usage));a=this.L;a.g&&(a.g=!1,a.buffer.upload(new Int32Array(a.data.buffer,0,a.length),a.usage))};Gf.A=!0;lh(Jc,I);Jc.prototype.Z=function(a){this.Qd=new ze;this.Fc=new ze;this.$a=0;I.prototype.Z.call(this,a);this.Da=
new oe(a)};Jc.prototype.Tf=function(a){return null!=this.getUniformLocation(a)};Jc.prototype.compile=function(a,b,c){this.Fc.B=Object.create(null);this.Qd.B=Object.create(null);var e=!1;this.Da.compile(a,b,c,function(f){f=f+"\nvertex shader source:\n"+a;window.alert(Tc.Va(f));t.console.log(f);e=!0},function(f){f=f+"\nfragment shader source:\n"+b;window.alert(Tc.Va(f));t.console.log(f);e=!0},function(f){e||window.alert(Tc.Va(f));t.console.log(f)})};Jc.prototype.bind=function(a){if(!this.Da.ee)throw Error("shader is not compiled");
this.Da.use();this.Ff(a)};Jc.prototype.Ff=function(a){for(var b=this.$a=0;b<a.length;)for(var c=a[b++].B,e=Object.keys(c),f=e.length,d=0;d<f;){var g=e[d++],h=c[g];this.Tf(g)&&this.Ef(g,this.getUniformLocation(g),h)}this.h.activeTexture(33984)};Jc.prototype.Ef=function(a,b,c){var e=this.Qd.B[a],f=-1,d=-1,g=-1;switch(c.l){case 0:f=0;g=d=1;break;case 1:f=0;d=2;g=1;break;case 2:f=0;d=3;g=1;break;case 3:f=0;d=4;g=1;break;case 4:g=d=f=1;break;case 5:f=1;d=2;g=1;break;case 6:f=1;d=3;g=1;break;case 7:f=1;
d=4;g=1;break;case 8:f=2;g=d=1;break;case 9:d=f=2;g=1;break;case 10:f=2;d=3;g=1;break;case 11:f=2;d=4;g=1;break;case 12:g=d=f=1;break;case 13:f=1;d=2;g=1;break;case 14:f=1;d=3;g=1;break;case 15:f=1;d=4;g=1;break;case 16:f=0;d=c.rows;g=c.cols;break;case 17:g=d=f=1;break;case 18:f=0;d=1;g=c.$.length;break;case 19:var h=c.$;f=0;d=h[0].length;g=h.length;break;case 20:d=f=1;g=c.$.length;break;case 21:var k=c.$;f=1;d=k[0].length;g=k.length;break;case 22:f=2;d=1;g=c.$.length;break;case 23:var n=c.$;f=2;
d=n[0].length;g=n.length;break;case 24:d=f=1;g=c.$.length;break;case 25:var m=c.$;f=1;d=m[0].length;g=m.length;break;case 26:var r=c.cols,u=c.rows;f=0;d=u;g=r*c.$.length;if(2>r||2>u||4<r||4<u)throw gb.Pa("invalid matrix size: "+r+", "+u);break;case 27:d=f=1,g=c.Ie.length}var q=null,p=null,z=null;if(null==e)var Ba=!1;else switch(e.l){case 0:var Qb=e.$;q=Qb;Ba=0==f&&d==e.Fa&&d*g==Qb.length;break;case 1:var $b=e.$;p=$b;Ba=1==f&&d==e.Fa&&d*g==$b.length;break;case 2:var ac=e.$;z=ac;Ba=2==f&&d==e.Fa&&d*
g==ac.length}if(!Ba)switch(f){case 0:q=new Float32Array(d*g);e=ye.ec(d,q);break;case 1:p=new Int32Array(d*g);e=ye.fc(d,p);break;default:z=new Uint32Array(d*g),e=ye.jc(d,z)}var x=Ba;switch(c.l){case 0:var Ya=c.x;x=x&&q[0]==Ya;q[0]=Ya;break;case 1:var Qa=c.x,va=c.y;x=x&&q[0]==Qa&&q[1]==va;q[0]=Qa;q[1]=va;break;case 2:var ca=c.x,da=c.y,Fa=c.z;x=x&&q[0]==ca&&q[1]==da&&q[2]==Fa;q[0]=ca;q[1]=da;q[2]=Fa;break;case 3:var jb=c.x,hb=c.y,Ab=c.z,la=c.w;x=x&&q[0]==jb&&q[1]==hb&&q[2]==Ab&&q[3]==la;q[0]=jb;q[1]=
hb;q[2]=Ab;q[3]=la;break;case 4:var Ra=c.x;x=x&&p[0]==Ra;p[0]=Ra;break;case 5:var Q=c.x,cb=c.y;x=x&&p[0]==Q&&p[1]==cb;p[0]=Q;p[1]=cb;break;case 6:var Ja=c.x,T=c.y,qa=c.z;x=x&&p[0]==Ja&&p[1]==T&&p[2]==qa;p[0]=Ja;p[1]=T;p[2]=qa;break;case 7:var K=c.x,ib=c.y,wa=c.z,kb=c.w;x=x&&p[0]==K&&p[1]==ib&&p[2]==wa&&p[3]==kb;p[0]=K;p[1]=ib;p[2]=wa;p[3]=kb;break;case 8:var xa=c.x;x=x&&z[0]==xa;z[0]=xa;break;case 9:var ya=c.x,Ga=c.y;x=x&&z[0]==ya&&z[1]==Ga;z[0]=ya;z[1]=Ga;break;case 10:var La=c.x,lb=c.y,ha=c.z;x=
x&&z[0]==La&&z[1]==lb&&z[2]==ha;z[0]=La;z[1]=lb;z[2]=ha;break;case 11:var U=c.x,ra=c.y,V=c.z,W=c.w;x=x&&z[0]==U&&z[1]==ra&&z[2]==V&&z[3]==W;z[0]=U;z[1]=ra;z[2]=V;z[3]=W;break;case 12:var Za=c.x;x=x&&p[0]==(Za?1:0);p[0]=Za?1:0;break;case 13:var Sa=c.x,pc=c.y;x=x&&p[0]==(Sa?1:0)&&p[1]==(pc?1:0);p[0]=Sa?1:0;p[1]=pc?1:0;break;case 14:var Ta=c.x,Ca=c.y,db=c.z;x=x&&p[0]==(Ta?1:0)&&p[1]==(Ca?1:0)&&p[2]==(db?1:0);p[0]=Ta?1:0;p[1]=Ca?1:0;p[2]=db?1:0;break;case 15:var ia=c.x,mb=c.y,qc=c.z,rc=c.w;x=x&&p[0]==
(ia?1:0)&&p[1]==(mb?1:0)&&p[2]==(qc?1:0)&&p[3]==(rc?1:0);p[0]=ia?1:0;p[1]=mb?1:0;p[2]=qc?1:0;p[3]=rc?1:0;break;case 16:for(var Ma=c.$,$a=0;$a<Ma.length;){var Bc=Ma[$a],ma=$a++;x=x&&q[ma]==Bc;q[ma]=Bc}break;case 17:var nb=c.t;x=x&&p[0]==this.$a;p[0]=this.$a;this.h.activeTexture(33984+this.$a);this.h.bindTexture(3553,null==nb?null:nb.Aa);this.$a++;break;case 18:for(var sa=c.$,O=0;O<sa.length;){var Da=sa[O],R=O++;x=x&&q[R]==Da;q[R]=Da}break;case 19:for(var Ua=c.$,Ea=0,Bb=0;Bb<Ua.length;){var Kb=Ua[Bb];
++Bb;for(var ob=0;ob<Kb.length;){var J=Kb[ob];++ob;x=x&&q[Ea]==J;q[Ea]=J;++Ea}}break;case 20:for(var pb=c.$,S=0;S<pb.length;){var ta=pb[S],ka=S++;x=x&&p[ka]==ta;p[ka]=ta}break;case 21:for(var Ka=c.$,L=0,P=0;P<Ka.length;){var Ha=Ka[P];++P;for(var Va=0;Va<Ha.length;){var ab=Ha[Va];++Va;x=x&&p[L]==ab;p[L]=ab;++L}}break;case 22:for(var H=c.$,Na=0;Na<H.length;){var X=H[Na],qb=Na++;x=x&&z[qb]==X;z[qb]=X}break;case 23:for(var Wb=c.$,Lb=0,bb=0;bb<Wb.length;){var Wa=Wb[bb];++bb;for(var Cb=0;Cb<Wa.length;){var Y=
Wa[Cb];++Cb;x=x&&z[Lb]==Y;z[Lb]=Y;++Lb}}break;case 24:for(var ua=c.$,M=0;M<ua.length;){var ea=ua[M],eb=M++;x=x&&p[eb]==(ea?1:0);p[eb]=ea?1:0}break;case 25:for(var za=c.$,cc=0,Xa=0;Xa<za.length;){var dc=za[Xa];++Xa;for(var Aa=0;Aa<dc.length;){var na=dc[Aa];++Aa;x=x&&p[cc]==(na?1:0);p[cc]=na?1:0;++cc}}break;case 26:for(var oa=c.$,ec=0,rb=0;rb<oa.length;){var pa=oa[rb];++rb;for(var Db=0;Db<pa.length;){var Oa=pa[Db];++Db;x=x&&q[ec]==Oa;q[ec]=Oa;++ec}}break;case 27:for(var Sb=c.Ie,Mb=0;Mb<Sb.length;){var Pa=
Sb[Mb++],Z=Mb-1;x=x&&p[Z]==this.$a;p[Z]=this.$a;this.h.activeTexture(33984+this.$a);this.h.bindTexture(3553,Pa.Aa);this.$a++}}if(!x)switch(this.Qd.B[a]=e,c.l){case 16:var fc=c.rows;switch(c.cols){case 2:switch(fc){case 2:this.h.uniformMatrix2fv(b,!1,q);break;case 3:this.h.uniformMatrix2x3fv(b,!1,q);break;case 4:this.h.uniformMatrix2x4fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,!1,q)}break;case 3:switch(fc){case 2:this.h.uniformMatrix3x2fv(b,!1,q);break;case 3:this.h.uniformMatrix3fv(b,!1,q);
break;case 4:this.h.uniformMatrix3x4fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,!1,q)}break;case 4:switch(fc){case 2:this.h.uniformMatrix4x2fv(b,!1,q);break;case 3:this.h.uniformMatrix4x3fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,!1,q)}break;default:this.h.uniformMatrix4fv(b,!1,q)}break;case 26:var gc=c.rows;switch(c.cols){case 2:switch(gc){case 2:this.h.uniformMatrix2fv(b,!1,q);break;case 3:this.h.uniformMatrix2x3fv(b,!1,q);break;case 4:this.h.uniformMatrix2x4fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,
!1,q)}break;case 3:switch(gc){case 2:this.h.uniformMatrix3x2fv(b,!1,q);break;case 3:this.h.uniformMatrix3fv(b,!1,q);break;case 4:this.h.uniformMatrix3x4fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,!1,q)}break;case 4:switch(gc){case 2:this.h.uniformMatrix4x2fv(b,!1,q);break;case 3:this.h.uniformMatrix4x3fv(b,!1,q);break;default:this.h.uniformMatrix4fv(b,!1,q)}break;default:this.h.uniformMatrix4fv(b,!1,q)}break;default:switch(f){case 0:switch(d){case 1:this.h.uniform1fv(b,q);break;case 2:this.h.uniform2fv(b,
q);break;case 3:this.h.uniform3fv(b,q);break;case 4:this.h.uniform4fv(b,q);break;default:this.h.uniform4uiv(b,z)}break;case 1:switch(d){case 1:this.h.uniform1iv(b,p);break;case 2:this.h.uniform2iv(b,p);break;case 3:this.h.uniform3iv(b,p);break;case 4:this.h.uniform4iv(b,p);break;default:this.h.uniform4uiv(b,z)}break;case 2:switch(d){case 1:this.h.uniform1uiv(b,z);break;case 2:this.h.uniform2uiv(b,z);break;case 3:this.h.uniform3uiv(b,z);break;default:this.h.uniform4uiv(b,z)}break;default:this.h.uniform4uiv(b,
z)}}};Jc.prototype.getUniformLocation=function(a){if(Object.prototype.hasOwnProperty.call(this.Fc.B,a))return this.Fc.B[a];var b=this.Da.getUniformLocation(a);return this.Fc.B[a]=b};Jc.A=!0;var ye=Uc["pot.graphics.gl._Shader.InternalUniformValue"]={Qa:!0,ia:null,ec:(l=function(a,b){return{l:0,Fa:a,$:b,o:"pot.graphics.gl._Shader.InternalUniformValue",toString:y}},l.s="Floats",l.K=["dim","vs"],l),fc:(l=function(a,b){return{l:1,Fa:a,$:b,o:"pot.graphics.gl._Shader.InternalUniformValue",toString:y}},l.s=
"Ints",l.K=["dim","vs"],l),jc:(l=function(a,b){return{l:2,Fa:a,$:b,o:"pot.graphics.gl._Shader.InternalUniformValue",toString:y}},l.s="UInts",l.K=["dim","vs"],l)};ye.ia=[ye.ec,ye.fc,ye.jc];lh(sd,I);sd.prototype.pe=function(){switch(this.type){case 5121:return 32856;case 5124:return 36226;case 5125:return 36208;case 5126:return 34836;case 5131:return 34842}};sd.prototype.dd=function(){switch(this.type){case 5124:case 5125:return 36249;case 5121:case 5126:case 5131:return 6408}};sd.prototype.jd=function(a,
b,c){this.width=a;this.height=b;this.type=c;this.h.bindTexture(3553,this.Aa);this.h.texImage2D(3553,0,this.pe(),a,b,0,this.dd(),c,null);this.h.bindTexture(3553,null);switch(c){case 5124:case 5125:this.vb=9728}this.vb=a=this.vb;this.h.bindTexture(3553,this.Aa);switch(a){case 9728:this.h.texParameteri(3553,10240,9728);this.h.texParameteri(3553,10241,9728);break;case 9729:this.h.texParameteri(3553,10240,9729),this.h.texParameteri(3553,10241,9729)}this.h.bindTexture(3553,null);a=this.Dc;b=this.Ec;this.Dc=
a;this.Ec=b;this.h.bindTexture(3553,this.Aa);this.h.texParameteri(3553,10242,a);this.h.texParameteri(3553,10243,b);this.h.bindTexture(3553,null);this.oe()};sd.prototype.load=function(a,b,c){null==c&&(c=!0);this.width=a.width;this.height=a.height;this.type=b;this.h.pixelStorei(37440,c);this.h.bindTexture(3553,this.Aa);this.h.texImage2D(3553,0,this.pe(),this.dd(),b,a.source);this.h.bindTexture(3553,null);this.h.pixelStorei(37440,!0);switch(b){case 5124:case 5125:this.vb=9728}this.vb=a=this.vb;this.h.bindTexture(3553,
this.Aa);switch(a){case 9728:this.h.texParameteri(3553,10240,9728);this.h.texParameteri(3553,10241,9728);break;case 9729:this.h.texParameteri(3553,10240,9729),this.h.texParameteri(3553,10241,9729)}this.h.bindTexture(3553,null);a=this.Dc;b=this.Ec;this.Dc=a;this.Ec=b;this.h.bindTexture(3553,this.Aa);this.h.texParameteri(3553,10242,a);this.h.texParameteri(3553,10243,b);this.h.bindTexture(3553,null);this.oe()};sd.prototype.sync=function(){this.h.bindFramebuffer(36160,this.je.ke);var a=this.h,b=this.dd();
switch(this.type){case 5121:var c=new Uint8Array(4);break;case 5124:c=new Int32Array(4);break;case 5125:c=new Uint32Array(4);break;case 5126:c=new Float32Array(4);break;case 5131:c=new Uint16Array(4)}a.readPixels(0,0,1,1,b,this.type,c);this.h.bindFramebuffer(36160,null)};sd.prototype.oe=function(){this.je.ne()};sd.prototype.filter=function(a,b){null==b&&(b=!1);this.vb=a;this.h.bindTexture(3553,this.Aa);switch(a){case 9728:this.h.texParameteri(3553,10240,9728);b?this.h.texParameteri(3553,10241,9984):
this.h.texParameteri(3553,10241,9728);break;case 9729:this.h.texParameteri(3553,10240,9729),b?this.h.texParameteri(3553,10241,9987):this.h.texParameteri(3553,10241,9729)}b&&this.h.generateMipmap(3553);this.h.bindTexture(3553,null)};sd.A=!0;var xe=Uc["pot.graphics.gl.TypedBuffer"]={Qa:!0,ia:null,Ka:(l=function(a){return{l:0,buffer:a,o:"pot.graphics.gl.TypedBuffer",toString:y}},l.s="Int",l.K=["buffer"],l),ca:(l=function(a){return{l:1,buffer:a,o:"pot.graphics.gl.TypedBuffer",toString:y}},l.s="Float",
l.K=["buffer"],l)};xe.ia=[xe.Ka,xe.ca];var G=Uc["pot.graphics.gl.UniformValue"]={Qa:!0,ia:null,ca:(l=function(a){return{l:0,x:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Float",l.K=["x"],l),yf:(l=function(a,b){return{l:1,x:a,y:b,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Vec2",l.K=["x","y"],l),kc:(l=function(a,b,c){return{l:2,x:a,y:b,z:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Vec3",l.K=["x","y","z"],l),ce:(l=function(a,b,c,e){return{l:3,x:a,y:b,z:c,w:e,o:"pot.graphics.gl.UniformValue",
toString:y}},l.s="Vec4",l.K=["x","y","z","w"],l),Ka:(l=function(a){return{l:4,x:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Int",l.K=["x"],l),af:(l=function(a,b){return{l:5,x:a,y:b,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="IVec2",l.K=["x","y"],l),bf:(l=function(a,b,c){return{l:6,x:a,y:b,z:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="IVec3",l.K=["x","y","z"],l),cf:(l=function(a,b,c,e){return{l:7,x:a,y:b,z:c,w:e,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="IVec4",l.K=
["x","y","z","w"],l),Kb:(l=function(a){return{l:8,x:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UInt",l.K=["x"],l),uf:(l=function(a,b){return{l:9,x:a,y:b,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UVec2",l.K=["x","y"],l),vf:(l=function(a,b,c){return{l:10,x:a,y:b,z:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UVec3",l.K=["x","y","z"],l),wf:(l=function(a,b,c,e){return{l:11,x:a,y:b,z:c,w:e,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UVec4",l.K=["x","y","z","w"],l),Jc:(l=
function(a){return{l:12,x:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Bool",l.K=["x"],l),Re:(l=function(a,b){return{l:13,x:a,y:b,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="BVec2",l.K=["x","y"],l),Se:(l=function(a,b,c){return{l:14,x:a,y:b,z:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="BVec3",l.K=["x","y","z"],l),Te:(l=function(a,b,c,e){return{l:15,x:a,y:b,z:c,w:e,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="BVec4",l.K=["x","y","z","w"],l),W:(l=function(a,b,c){return{l:16,
cols:a,rows:b,$:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Mat",l.K=["cols","rows","vs"],l),nb:(l=function(a){return{l:17,t:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Sampler",l.K=["t"],l),ec:(l=function(a){return{l:18,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Floats",l.K=["vs"],l),zf:(l=function(a){return{l:19,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Vecs",l.K=["vs"],l),fc:(l=function(a){return{l:20,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},
l.s="Ints",l.K=["vs"],l),df:(l=function(a){return{l:21,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="IVecs",l.K=["vs"],l),jc:(l=function(a){return{l:22,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UInts",l.K=["vs"],l),xf:(l=function(a){return{l:23,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="UVecs",l.K=["vs"],l),Ve:(l=function(a){return{l:24,$:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Bools",l.K=["vs"],l),Ue:(l=function(a){return{l:25,$:a,o:"pot.graphics.gl.UniformValue",
toString:y}},l.s="BVecs",l.K=["vs"],l),ff:(l=function(a,b,c){return{l:26,cols:a,rows:b,$:c,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Mats",l.K=["cols","rows","vs"],l),pf:(l=function(a){return{l:27,Ie:a,o:"pot.graphics.gl.UniformValue",toString:y}},l.s="Samplers",l.K=["ts"],l)};G.ia=[G.ca,G.yf,G.kc,G.ce,G.Ka,G.af,G.bf,G.cf,G.Kb,G.uf,G.vf,G.wf,G.Jc,G.Re,G.Se,G.Te,G.W,G.nb,G.ec,G.zf,G.fc,G.df,G.jc,G.xf,G.Ve,G.Ue,G.ff,G.pf];Ae.A=!0;lh(gd,I);gd.prototype.Z=function(a,b){this.length=0;I.prototype.Z.call(this,
a);this.kind=b;this.buffer=a.createBuffer()};gd.prototype.upload=function(a,b){this.length=a.length;this.h.bindBuffer(this.kind,this.buffer);this.h.bufferData(this.kind,a,b);this.h.bindBuffer(this.kind,null)};gd.prototype.download=function(a,b){this.h.bindBuffer(this.kind,this.buffer);this.h.getBufferSubData(this.kind,a*Float32Array.BYTES_PER_ELEMENT,b);this.h.bindBuffer(this.kind,null)};gd.prototype.sync=function(){this.h.bindBuffer(this.kind,this.buffer);this.h.getBufferSubData(this.kind,0,new Float32Array(1));
this.h.bindBuffer(this.kind,null)};gd.prototype.vertexAttribPointer=function(a,b,c,e){if(34962!=this.kind)throw gb.Pa("assertion error");this.h.bindBuffer(this.kind,this.buffer);this.h.vertexAttribPointer(a,b,5126,!1,c,e);this.h.bindBuffer(this.kind,null)};gd.A=!0;lh(zg,I);zg.A=!0;lh(Wd,I);Wd.prototype.Z=function(a,b){this.length=0;I.prototype.Z.call(this,a);this.kind=b;this.buffer=a.createBuffer()};Wd.prototype.upload=function(a,b){this.length=a.length;this.h.bindBuffer(this.kind,this.buffer);this.h.bufferData(this.kind,
a,b);this.h.bindBuffer(this.kind,null)};Wd.prototype.download=function(a,b){this.h.bindBuffer(this.kind,this.buffer);this.h.getBufferSubData(this.kind,a*Int32Array.BYTES_PER_ELEMENT,b);this.h.bindBuffer(this.kind,null)};Wd.prototype.sync=function(){this.h.bindBuffer(this.kind,this.buffer);this.h.getBufferSubData(this.kind,0,new Int32Array(1));this.h.bindBuffer(this.kind,null)};Wd.prototype.vertexAttribPointer=function(a,b,c,e){if(34962!=this.kind)throw gb.Pa("assertion error");this.h.bindBuffer(this.kind,
this.buffer);this.h.vertexAttribIPointer(a,b,5124,c,e);this.h.bindBuffer(this.kind,null)};Wd.A=!0;lh(oe,I);oe.prototype.Z=function(a){this.ee=!1;I.prototype.Z.call(this,a);this.Da=a.createProgram();this.cc=a.createShader(35633);this.Rb=a.createShader(35632)};oe.prototype.compile=function(a,b,c,e,f,d){this.h.shaderSource(this.cc,a);this.h.compileShader(this.cc);this.h.getShaderParameter(this.cc,35713)||e(this.h.getShaderInfoLog(this.cc));this.h.shaderSource(this.Rb,b);this.h.compileShader(this.Rb);
this.h.getShaderParameter(this.Rb,35713)||f(this.h.getShaderInfoLog(this.Rb));this.h.attachShader(this.Da,this.cc);this.h.attachShader(this.Da,this.Rb);null!=c&&this.h.transformFeedbackVaryings(this.Da,c.ug,c.kind);this.h.linkProgram(this.Da);this.h.getProgramParameter(this.Da,35714)?this.ee=!0:d(this.h.getProgramInfoLog(this.Da))};oe.prototype.use=function(){this.h.useProgram(this.Da)};oe.prototype.getUniformLocation=function(a){return this.h.getUniformLocation(this.Da,a)};oe.A=!0;lh(ne,I);ne.prototype.Z=
function(a){this.Uc=[];I.prototype.Z.call(this,a);this.Ge=a.createTransformFeedback()};ne.prototype.bind=function(){this.h.bindTransformFeedback(36386,this.Ge)};ne.prototype.bindBuffer=function(a,b){null==b?(Ee.remove(this.Uc,a),this.h.bindBufferBase(35982,a,null)):(this.Uc.includes(a)||this.Uc.push(a),this.h.bindBufferBase(35982,a,b.buffer))};ne.prototype.end=function(){this.h.disable(35977);this.h.endTransformFeedback()};ne.A=!0;lh(kf,I);kf.prototype.Z=function(a,b,c){this.mode=4;I.prototype.Z.call(this,
a);this.attributes=b.slice();this.Uf=c;this.Xb=a.createVertexArray();a.bindVertexArray(this.Xb);for(var e=0;e<b.length;){var f=b[e];++e;f.h.enableVertexAttribArray(f.location);f.h.vertexAttribDivisor(f.location,f.bd);var d=f.buffer.buffer;switch(d.l){case 0:d.buffer.vertexAttribPointer(f.location,f.buffer.size,f.buffer.ac,f.buffer.offset);break;case 1:d.buffer.vertexAttribPointer(f.location,f.buffer.size,f.buffer.ac,f.buffer.offset)}}c.h.bindBuffer(34963,c.buffer.buffer);a.bindVertexArray(null)};
kf.prototype.La=function(){this.h.bindVertexArray(this.Xb);this.h.drawElements(this.mode,this.Uf.buffer.length,5125,0);this.h.bindVertexArray(null)};kf.A=!0;lh(Ef,yg);Ef.A=!0;lh(bc,lc);bc.A=!0;lh(ja,me);ja.A=!0;lh(D,me);D.A=!0;lh(A,me);A.A=!0;C.le=function(a){return-1==C.Oe.indexOf(a)?null:a};vb.prototype.Sc=function(a,b,c,e){function f(k){k.cancelable&&k.preventDefault();k=k.changedTouches;for(var n=0,m=k.length;n<m;){var r=k[n++],u=d.fd(r.identifier);if(null!=u){var q=r.clientX-b.getBoundingClientRect().left,
p=void 0;switch(g.Ja){case 0:p=a.width/c.za/a.clientWidth;break;case 1:p=a.width/a.clientWidth}q*=p;r=r.clientY-b.getBoundingClientRect().top;p=void 0;switch(g.Ja){case 0:p=a.height/c.za/a.clientHeight;break;case 1:p=a.height/a.clientHeight}u.u=q;u.v=r*p;u.Wb=!1}}}this.td.Sc(a,b,this,c,e);var d=this.touches,g=this;b.addEventListener("touchstart",function(k){k.cancelable&&k.preventDefault();k=k.changedTouches;for(var n=0,m=k.length;n<m;){var r=k[n++],u=d.fd(r.identifier,!0),q=r.clientX-b.getBoundingClientRect().left,
p=void 0;switch(g.Ja){case 0:p=a.width/c.za/a.clientWidth;break;case 1:p=a.width/a.clientWidth}q*=p;r=r.clientY-b.getBoundingClientRect().top;p=void 0;switch(g.Ja){case 0:p=a.height/c.za/a.clientHeight;break;case 1:p=a.height/a.clientHeight}u.u=q;u.v=r*p;u.Wb=!0;u.xc=!0}},{passive:!1});b.addEventListener("touchmove",function(k){k.cancelable&&k.preventDefault();k=k.changedTouches;for(var n=0,m=k.length;n<m;){var r=k[n++],u=d.fd(r.identifier);if(null!=u){var q=r.clientX-b.getBoundingClientRect().left,
p=void 0;switch(g.Ja){case 0:p=a.width/c.za/a.clientWidth;break;case 1:p=a.width/a.clientWidth}q*=p;r=r.clientY-b.getBoundingClientRect().top;p=void 0;switch(g.Ja){case 0:p=a.height/c.za/a.clientHeight;break;case 1:p=a.height/a.clientHeight}u.u=q;u.v=r*p}}},{passive:!1});b.addEventListener("touchend",f);b.addEventListener("touchcancel",f);if(null!=this.keyboard){var h=this.keyboard;e=window.document.documentElement;e.addEventListener("keydown",function(k){var n=C.le(k.code);null!=n&&(!C.Zd.includes(n)&&
k.cancelable&&k.preventDefault(),Object.prototype.hasOwnProperty.call(h.keys.B,n)||(h.keys.B[n]=new aa),h.wd.add(k.key))});e.addEventListener("keyup",function(k){var n=C.le(k.code);null!=n&&(!C.Zd.includes(n)&&k.cancelable&&k.preventDefault(),Object.prototype.hasOwnProperty.call(h.keys.B,n)||(h.keys.B[n]=new aa),h.keys.B[n].release(),h.ze.add(k.key))});window.addEventListener("blur",function(){for(var k=h.keys.B,n=Object.keys(k),m=n.length,r=0;r<m;)k[n[r++]].release()})}};vb.prototype.update=function(a){this.td.update(a);
for(var b=this.touches,c=0;c<b.touches.length;){var e=b.touches[c];e.update(a);e.De||e.Pd||e.Wb?++c:Ee.remove(b.touches,e)}if(null!=this.keyboard){a=this.keyboard;b=a.keys.B;c=Object.keys(b);e=c.length;for(var f=0;f<e;)b[c[f++]].update();a.he.clear();a.Sd.clear();b=a.wd.values();for(c=b.next();!c.done;)e=c.value,c=b.next(),a.he.add(e);b=a.Sd.values();for(c=b.next();!c.done;)e=c.value,c=b.next(),a.Sd.add(e);a.wd.clear();a.ze.clear()}0<this.touches.touches.length&&(this.td.Tb=!1)};vb.A=!0;var rf=Uc["pot.input.InputTarget"]=
{Qa:!0,ia:null,Wd:{s:"Canvas",l:0,o:"pot.input.InputTarget",toString:y},Document:{s:"Document",l:1,o:"pot.input.InputTarget",toString:y},gf:{s:"None",l:2,o:"pot.input.InputTarget",toString:y}};rf.ia=[rf.Wd,rf.Document,rf.gf];aa.prototype.release=function(){};aa.prototype.update=function(){};aa.A=!0;fa.A=!0;E.prototype.Sc=function(a,b,c,e,f){var d=this;b.addEventListener("mouseenter",function(){return d.Hb=!0});b.addEventListener("mouseleave",function(){return d.Hb=!1});b.addEventListener("mousedown",
function(g){d.Tb=!0;d.Hb=!0;g.cancelable&&g.preventDefault();switch(g.button){case 0:d.zd=!0;d.Ad=!0;break;case 1:d.xe=!0;d.ye=!0;break;case 2:d.Bd=!0,d.Cd=!0}var h=g.clientX-a.getBoundingClientRect().left;switch(c.Ja){case 0:var k=a.width/e.za/a.clientWidth;break;case 1:k=a.width/a.clientWidth}d.u=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ja){case 0:var n=a.height/e.za/a.clientHeight;break;case 1:n=a.height/a.clientHeight}return d.v=g*n});b.addEventListener("mouseup",function(g){d.Tb=
!0;d.Hb=!0;g.cancelable&&g.preventDefault();switch(g.button){case 0:d.zd=!1;break;case 1:d.xe=!1;break;case 2:d.Bd=!1}var h=g.clientX-a.getBoundingClientRect().left;switch(c.Ja){case 0:var k=a.width/e.za/a.clientWidth;break;case 1:k=a.width/a.clientWidth}d.u=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ja){case 0:var n=a.height/e.za/a.clientHeight;break;case 1:n=a.height/a.clientHeight}return d.v=g*n});b.addEventListener("mousemove",function(g){d.Tb=!0;d.Hb=!0;var h=g.clientX-a.getBoundingClientRect().left;
switch(c.Ja){case 0:var k=a.width/e.za/a.clientWidth;break;case 1:k=a.width/a.clientWidth}d.u=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ja){case 0:var n=a.height/e.za/a.clientHeight;break;case 1:n=a.height/a.clientHeight}return d.v=g*n});f&&b.addEventListener("wheel",function(g){switch(g.deltaMode){case 0:var h=1;break;case 1:h=24;break;case 2:h=720;break;default:throw gb.Pa("invalid wheel delta mode");}d.Dd+=g.deltaX*h;d.Ed+=g.deltaY*h;g.preventDefault()},{passive:!1});b.addEventListener("contextmenu",
function(g){d.Tb=!0;d.Hb=!0;g.preventDefault()});b.addEventListener("pointerdown",function(g){b.setPointerCapture(g.pointerId)});b.addEventListener("pointerup",function(g){b.releasePointerCapture(g.pointerId)})};E.prototype.update=function(a){this.x=this.jb+a*(this.u-this.jb);this.y=this.kb+a*(this.v-this.kb);this.left=this.zd||this.Ad;this.right=this.Bd||this.Cd;this.Cd=this.ye=this.Ad=!1;this.Ed=this.Dd=0;1==a&&(this.jb=this.x,this.kb=this.y)};E.A=!0;v.prototype.move=function(a,b){this.u=a;this.v=
b};v.prototype.end=function(a,b){this.u=a;this.v=b;this.Wb=!1};v.prototype.update=function(a){this.xc&&(this.jb=this.u,this.kb=this.v);this.x=this.jb+a*(this.u-this.jb);this.y=this.kb+a*(this.v-this.kb);this.De=this.Pd;this.Pd=this.Wb||this.xc;this.xc=!1;1==a&&(this.jb=this.x,this.kb=this.y)};v.A=!0;w.prototype.fd=function(a,b){null==b&&(b=!1);for(var c=0,e=this.touches;c<e.length;){var f=e[c];++c;if(f.gg==a)return f}return b?this.bg(a):null};w.prototype.bg=function(a){for(var b=0;;){for(var c=b,
e=0,f=this.touches;e<f.length;)f[e++].id==b&&++b;if(c==b)break}a=new v(b,a);this.touches.push(a);return a};w.A=!0;t.Ud|=0;"undefined"!=typeof performance&&"function"==typeof performance.now&&(Ee.now=performance.now.bind(performance));String.A=!0;Array.A=!0;Date.A="Date";lc.sc={};lc.Gc=function(){for(var a={transform:{name:"matrix.transform",type:B.W(4,4)},model:{name:"matrix.model",type:B.W(4,4)},view:{name:"matrix.view",type:B.W(4,4)},Hd:{name:"matrix.projection",type:B.W(4,4)},md:{name:"matrix.invProjection",
type:B.W(4,4)},sd:{name:"matrix.modelView",type:B.W(4,4)},ld:{name:"matrix.invModelView",type:B.W(4,4)},Na:{name:"matrix.normal",type:B.W(3,3)}},b={mc:{name:"material.ambient",type:B.ca},uc:{name:"material.diffuse",type:B.ca},Cc:{name:"material.specular",type:B.ca},Bc:{name:"material.shininess",type:B.ca},vc:{name:"material.emission",type:B.ca},Aa:{name:"material.texture",type:B.nb(Rb.hc)}},c={name:"numLights",type:B.Ka},e=[],f=0;16>f;){var d="lights["+f++ +"]";e.push({position:{name:d+".position",
type:B.fa(4)},color:{name:d+".color",type:B.fa(3)},Na:{name:d+".normal",type:B.fa(3)}})}return{Ta:a,Ha:b,ya:c,Gb:new Lf(e,"lights",B.ic)}}(this);lc.attributes={Qc:{name:"aPosition",type:Jb.fa(4),location:0},Oc:{name:"aColor",type:Jb.fa(4),location:1},Pc:{name:"aNormal",type:Jb.fa(3),location:2},Rc:{name:"aTexCoord",type:Jb.fa(2),location:3}};lc.dc="#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}";
lc.Sb="#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\n\nvec4 computeBaseColor() {\n\treturn vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid main() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}";
lc.source={Je:"#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}",
ie:"#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\n\nvec4 computeBaseColor() {\n\treturn vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid main() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}"};
jd.sc={};jd.Gc=function(){for(var a={transform:{name:"matrix.transform",type:B.W(4,4)},model:{name:"matrix.model",type:B.W(4,4)},view:{name:"matrix.view",type:B.W(4,4)},Hd:{name:"matrix.projection",type:B.W(4,4)},md:{name:"matrix.invProjection",type:B.W(4,4)},sd:{name:"matrix.modelView",type:B.W(4,4)},ld:{name:"matrix.invModelView",type:B.W(4,4)},Na:{name:"matrix.normal",type:B.W(3,3)}},b={mc:{name:"material.ambient",type:B.ca},uc:{name:"material.diffuse",type:B.ca},Cc:{name:"material.specular",type:B.ca},
Bc:{name:"material.shininess",type:B.ca},vc:{name:"material.emission",type:B.ca},Aa:{name:"material.texture",type:B.nb(Rb.hc)}},c={name:"numLights",type:B.Ka},e=[],f=0;16>f;){var d="lights["+f++ +"]";e.push({position:{name:d+".position",type:B.fa(4)},color:{name:d+".color",type:B.fa(3)},Na:{name:d+".normal",type:B.fa(3)}})}return{Ta:a,Ha:b,ya:c,Gb:new Lf(e,"lights",B.ic),bgColor:{name:"bgColor",type:B.fa(3)}}}(this);jd.attributes={Qc:{name:"aPosition",type:Jb.fa(4),location:0},Oc:{name:"aColor",type:Jb.fa(4),
location:1},Pc:{name:"aNormal",type:Jb.fa(3),location:2},Rc:{name:"aTexCoord",type:Jb.fa(2),location:3}};jd.dc="#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\nuniform vec3 bgColor;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}";
jd.Sb="#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\nuniform vec3 bgColor;\n\nvec4 computeBaseColor() {\n\treturn vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid hg_fragment_() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}\n\nvoid main() {\n\thg_fragment_();\n\toColor = vec4(mix(bgColor, oColor.xyz, vColor.w), 1);\n}";
jd.source={Je:"#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\nuniform vec3 bgColor;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}",
ie:"#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\nuniform vec3 bgColor;\n\nvec4 computeBaseColor() {\n\treturn vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid hg_fragment_() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}\n\nvoid main() {\n\thg_fragment_();\n\toColor = vec4(mix(bgColor, oColor.xyz, vColor.w), 1);\n}"};
id.DEPTH=250;Kc.ga=!1;mc.ga=!1;N.Wa=[new F(0,0),new F(0,0),new F(0,0),new F(0,0)];N.Xa=[new F(0,0),new F(0,0),new F(0,0),new F(0,0)];N.gb=[new F(0,0),new F(0,0),new F(0,0),new F(0,0)];N.hb=[new F(0,0),new F(0,0),new F(0,0),new F(0,0)];hd.qc=!1;I.ga=!1;Jc.id=0;Ef.sc={ef:16};bc.sc={};bc.Gc=function(){for(var a={transform:{name:"matrix.transform",type:B.W(4,4)},model:{name:"matrix.model",type:B.W(4,4)},view:{name:"matrix.view",type:B.W(4,4)},Hd:{name:"matrix.projection",type:B.W(4,4)},md:{name:"matrix.invProjection",
type:B.W(4,4)},sd:{name:"matrix.modelView",type:B.W(4,4)},ld:{name:"matrix.invModelView",type:B.W(4,4)},Na:{name:"matrix.normal",type:B.W(3,3)}},b={mc:{name:"material.ambient",type:B.ca},uc:{name:"material.diffuse",type:B.ca},Cc:{name:"material.specular",type:B.ca},Bc:{name:"material.shininess",type:B.ca},vc:{name:"material.emission",type:B.ca},Aa:{name:"material.texture",type:B.nb(Rb.hc)}},c={name:"numLights",type:B.Ka},e=[],f=0;16>f;){var d="lights["+f++ +"]";e.push({position:{name:d+".position",
type:B.fa(4)},color:{name:d+".color",type:B.fa(3)},Na:{name:d+".normal",type:B.fa(3)}})}return{Ta:a,Ha:b,ya:c,Gb:new Lf(e,"lights",B.ic)}}(this);bc.attributes={Qc:{name:"aPosition",type:Jb.fa(4),location:0},Oc:{name:"aColor",type:Jb.fa(4),location:1},Pc:{name:"aNormal",type:Jb.fa(3),location:2},Rc:{name:"aTexCoord",type:Jb.fa(2),location:3}};bc.dc="#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}";
bc.Sb="#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\n\nvec4 computeBaseColor() {\n\treturn texture(material.texture, vTexCoord) * vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid main() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}";
bc.source={Je:"#version 300 es\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nlayout(location = 0) in vec4 aPosition;\nlayout(location = 1) in vec4 aColor;\nlayout(location = 2) in vec3 aNormal;\nlayout(location = 3) in vec2 aTexCoord;\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nout vec4 vColor;\nout vec3 vPosition;\nout vec3 vNormal;\nout vec2 vTexCoord;\n\nvoid main() {\n\tgl_Position = matrix.transform * aPosition;\n\tgl_PointSize = 1.0;\n\tvColor = aColor;\n\tvPosition = (matrix.modelView * aPosition).xyz;\n\tvNormal = matrix.normal * aNormal;\n\tvTexCoord = aTexCoord;\n}",
ie:"#version 300 es\nprecision highp int;\nprecision highp float;\nprecision highp sampler2D;\nprecision highp sampler3D;\nprecision highp samplerCube;\nprecision highp samplerCubeShadow;\nprecision highp sampler2DShadow;\nprecision highp sampler2DArray;\nprecision highp sampler2DArrayShadow;\nprecision highp isampler2D;\nprecision highp isampler3D;\nprecision highp isamplerCube;\nprecision highp isampler2DArray;\nprecision highp usampler2D;\nprecision highp usampler3D;\nprecision highp usamplerCube;\nprecision highp usampler2DArray;\n\nstruct Struct0 {\n\tmat4 transform;\n\tmat4 model;\n\tmat4 view;\n\tmat4 projection;\n\tmat4 invProjection;\n\tmat4 modelView;\n\tmat4 invModelView;\n\tmat3 normal;\n};\nstruct Struct1 {\n\tfloat ambient;\n\tfloat diffuse;\n\tfloat specular;\n\tfloat shininess;\n\tfloat emission;\n\tsampler2D texture;\n};\nstruct Struct2 {\n\tvec4 position;\n\tvec3 color;\n\tvec3 normal;\n};\n\nuniform Struct0 matrix;\nuniform Struct1 material;\nuniform int numLights;\nuniform Struct2 lights[16];\nin vec4 vColor;\nin vec3 vPosition;\nin vec3 vNormal;\nin vec2 vTexCoord;\nlayout(location = 0) out vec4 oColor;\n\nvec4 computeBaseColor() {\n\treturn texture(material.texture, vTexCoord) * vColor;\n}\n\nvec3 safeNormalize(vec3 v) {\n\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n}\n\nvec3 ambientLight(vec3 lightColor, vec3 color) {\n\treturn lightColor * color * material.ambient;\n}\n\nvec3 directionalLight(vec3 lightColor, vec3 lightDirection, vec3 eye, vec3 normal, vec3 color) {\n\tfloat ldot = max(-dot(lightDirection, normal), 0.0);\n\tvec3 res = lightColor * color * ldot * material.diffuse;\n\tif (dot(normal, eye) < 0.0) {\n\t\tvec3 reflEye = eye - 2.0 * normal * dot(eye, normal);\n\t\tfloat rdot = max(-dot(reflEye, lightDirection), 0.0);\n\t\tres += lightColor * pow(rdot, material.shininess) * material.specular;\n\t}\n\treturn res;\n}\n\nvoid main() {\n\tvec4 baseColor = computeBaseColor();\n\tif (baseColor.w == 0.0) {\n\t\tdiscard;\n\t}\n\tif (numLights == 0) {\n\t\toColor = baseColor;\n\t\treturn;\n\t}\n\tvec3 eye = safeNormalize(vPosition);\n\tvec3 n = safeNormalize(vNormal);\n\tif (!gl_FrontFacing) {\n\t\tn = -n;\n\t}\n\tvec3 color = baseColor.xyz;\n\tvec3 total = color * material.emission;\n\tfor (int i = 0; i < numLights; i++) {\n\t\tStruct2 light = lights[i];\n\t\tvec4 lp = light.position;\n\t\tvec3 lc = light.color;\n\t\tvec3 ln = light.normal;\n\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\tif (amb) {\n\t\t\ttotal += ambientLight(lc, color);\n\t\t}\n\t\telse {\n\t\t\tbool dir = lp.w == 0.0;\n\t\t\tif (!dir) {\n\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t}\n\t\t\tfloat ldot = max(-dot(ln, n), 0.0);\n\t\t\ttotal += directionalLight(lc, ln, eye, n, color);\n\t\t}\n\t}\n\toColor = vec4(total, baseColor.w);\n}"};
C.Zd="F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12".split(" ");C.Oe="Escape Digit0 Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Minus Equal Backspace Tab KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Enter ControlLeft KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote Backquote ShiftLeft Backslash KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash ShiftRight NumpadMultiply AltLeft Space CapsLock F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 Numpad7 Numpad8 Numpad9 NumpadSubtract Numpad4 Numpad5 Numpad6 NumpadAdd Numpad1 Numpad2 Numpad3 Numpad0 NumpadDecimal IntlBackslash F11 F12 IntlYen NumpadEnter ControlRight NumpadDivide PrintScreen AltRight NumLock Home ArrowUp PageUp ArrowLeft ArrowRight End ArrowDown PageDown Insert Delete ContextMenu".split(" ");
oc.ag()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
